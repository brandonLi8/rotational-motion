// Copyright © Brandon Li. All rights reserved.

/**
 * @license rotational-motion 0.0.0-dev.3
 * Released under GPL-3.0
 */
function t(e,i,r,o){return(t="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,r){var o,a=u(t,e);if(a){if((o=Object.getOwnPropertyDescriptor(a,e)).set)return o.set.call(r,i),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,e)){if(!o.writable)return!1;o.value=i,Object.defineProperty(r,e,o)}else n(r,e,i);return!0})(e,i,r,o)}function e(e,n,i,r,o){if(!t(e,n,i,r||e)&&o)throw new Error("failed to set property");return i}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){return function(){var e,n=h(t);if(a()){var i=h(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return r(this,e)}}function r(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?o(t):e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=u(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){return f(t)||p(t)||_(t)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(t,e){if(t){if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}function p(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return O(t)}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t,n,r;!function(e){var i,o,a,s,c={},l={},u={},h={},d=Object.prototype.hasOwnProperty,y=[].slice,_=/\.js$/;function p(t,e){return d.call(t,e)}function f(t,e){var n,i,r,o,a,s,c,l,h,d,y,p=e&&e.split("/"),f=u.map,O=f&&f["*"]||{};if(t){for(a=(t=t.split("/")).length-1,u.nodeIdCompat&&_.test(t[a])&&(t[a]=t[a].replace(_,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),h=0;h<t.length;h++)if("."===(y=t[h]))t.splice(h,1),h-=1;else if(".."===y){if(0===h||1===h&&".."===t[2]||".."===t[h-1])continue;h>0&&(t.splice(h-1,2),h-=2)}t=t.join("/")}if((p||O)&&f){for(h=(n=t.split("/")).length;h>0;h-=1){if(i=n.slice(0,h).join("/"),p)for(d=p.length;d>0;d-=1)if((r=f[p.slice(0,d).join("/")])&&(r=r[i])){o=r,s=h;break}if(o)break;!c&&O&&O[i]&&(c=O[i],l=h)}!o&&c&&(o=c,s=l),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function O(t,e){return function(){var n=y.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),o.apply(void 0,n.concat([t,e]))}}function v(t){return function(e){c[t]=e}}function m(t){if(p(l,t)){var e=l[t];delete l[t],h[t]=!0,i.apply(void 0,e)}if(!p(c,t)&&!p(h,t))throw new Error("No "+t);return c[t]}function g(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function R(t){return t?g(t):[]}function M(t){return function(){return u&&u.config&&u.config[t]||{}}}a=function(t,e){var n,i,r=g(t),o=r[0],a=e[1];return t=r[1],o&&(n=m(o=f(o,a))),o?t=n&&n.normalize?n.normalize(t,(i=a,function(t){return f(t,i)})):f(t,a):(o=(r=g(t=f(t,a)))[0],t=r[1],o&&(n=m(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},s={require:function(t){return O(t)},exports:function(t){var e=c[t];return void 0!==e?e:c[t]={}},module:function(t){return{id:t,uri:"",exports:c[t],config:M(t)}}},i=function(t,e,n,i){var r,o,u,d,y,_,f,g=[],M=S(n);if(_=R(i=i||t),"undefined"===M||"function"===M){for(e=!e.length&&n.length?["require","exports","module"]:e,y=0;y<e.length;y+=1)if("require"===(o=(d=a(e[y],_)).f))g[y]=s.require(t);else if("exports"===o)g[y]=s.exports(t),f=!0;else if("module"===o)r=g[y]=s.module(t);else if(p(c,o)||p(l,o)||p(h,o))g[y]=m(o);else{if(!d.p)throw new Error(t+" missing "+o);d.p.load(d.n,O(i,!0),v(o),{}),g[y]=c[o]}u=n?n.apply(c[t],g):void 0,t&&(r&&void 0!==r.exports&&r.exports!==c[t]?c[t]=r.exports:void 0===u&&f||(c[t]=u))}else t&&(c[t]=n)},t=n=o=function(t,e,n,r,c){if("string"==typeof t)return s[t]?s[t](e):m(a(t,R(e)).f);if(!t.splice){if((u=t).deps&&o(u.deps,u.callback),!e)return;e.splice?(t=e,e=n,n=null):t=void 0}return e=e||function(){},"function"==typeof n&&(n=r,r=c),r?i(void 0,t,e,n):setTimeout((function(){i(void 0,t,e,n)}),4),o},o.config=function(t){return o(t)},t._defined=c,(r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),p(c,t)||p(l,t)||(l[t]=[t,e,n])}).amd={jQuery:!0}}(),r("almond",(function(){})),r("SIM_CORE/util/assert",["require"],(function(t){"use strict";var e=function(t,e){if(!t)throw e=e?"Assertion failed: "+e:"Assertion failed","undefined"==typeof process&&console.log(e),new Error(e)};function n(t,i){n.enabled&&e(t,i)}return n.enabled=!1,n.enableAssertions=function(){console.log("Assertions Enabled..."),n.enabled=!0},n.always=function(t,n){e(t,n)},n})),r("SIM_CORE/util/QueryParameters",["require","SIM_CORE/util/assert"],(function(t){"use strict";var e,n=t("SIM_CORE/util/assert").always,i="undefined"==typeof process,r=(e={},i?(window.location.search.substring(1).split("&").forEach((function(t){if(""!==t){var n=t.split("=",2),i=n[0],r=2===n.length?n[1]:null;e[i]=r?decodeURIComponent(r):r}})),e):e),o=["flag","boolean","number","string"];return function(){function t(){v(this,t)}return g(t,null,[{key:"retrieve",value:function(t){var e=this;!function(t){n(Object.getPrototypeOf(t)===Object.prototype,"invalid schema: ".concat(t)),Object.keys(t).forEach((function(e){var i=t[e];n(Object.getPrototypeOf(i)===Object.prototype,"invalid object for ?".concat(e,": ").concat(i)),n(o.includes(i.type),"invalid type for ?".concat(e,": ").concat(i.type)),n("flag"===i.type||S(i.defaultValue)===i.type,"invalid defaultValue for ?".concat(e,": ").concat(i.defaultValue)),n(!i.isValidValue||"function"==typeof i.isValidValue,"invalid isValidValue for ?".concat(e,": ").concat(i.isValidValue)),n(!("flag"!==i.type&&i.isValidValue)||i.isValidValue(i.defaultValue),"invalid defaultValue for ?".concat(e," doesn't pass isValidValue(): ").concat(i.defaultValue))}))}(t);var i={};return Object.keys(t).forEach((function(r){var o=t[r],a=o.type,s="flag"!==a&&o.defaultValue,c=e.get(r),l=o.isValidValue,u=e.contains(r)?function(t,e,i){if("number"===e){var r=Number(t);return n(!isNaN(r),"invalid number value for ?".concat(i,": ").concat(t)),r}return"boolean"===e?(n("true"===t||"false"===t,"invalid boolean value for ?".concat(i,": ").concat(t)),"true"===t):"flag"===e?(n(null===t,"value for ?".concat(i," shouldn't exist: ").concat(t," for 'flag' parameter types")),!0):t}(c,a,r):s;n(!l||l(u),"value ".concat(u," for ?").concat(r," didn't pass isValidValue()")),i[r]=u})),i}},{key:"contains",value:function(t){return n("string"==typeof t,"invalid name ".concat(t)),Object.prototype.hasOwnProperty.call(r,t)}},{key:"get",value:function(t){return n("string"==typeof t,"invalid name ".concat(t)),r[t]}}]),t}()})),r("SIM_CORE/StandardSimQueryParameters",["require","SIM_CORE/util/assert","SIM_CORE/util/QueryParameters"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/QueryParameters").retrieve({ea:{type:"flag"},fps:{type:"flag"},version:{type:"flag"},dev:{type:"flag"},resizeThrottle:{type:"number",isValidValue:function(t){return t>=0},defaultValue:17}});return n.ea&&e.enableAssertions(),n})),r("SIM_CORE/util/Util",["require","SIM_CORE/util/assert","SIM_CORE/StandardSimQueryParameters"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/StandardSimQueryParameters"),i={EPSILON:1e-5,PHI:(1+Math.sqrt(5))/2,MICRO:1e-6,MILLI:.001,BASE:1,CENTI:.01,KILO:1e3,GIGA:1e9,toRadians:function(t){return t*(Math.PI/180)},toDegrees:function(t){return t*(180/Math.PI)},convertTo:function(t,e){return t/e},convertFrom:function(t,e){return t*e},clamp:function(t,e,n){return t<e?e:t>n?n:t},gcd:function(t,e){return Math.abs(0===e?t:this.gcd(e,t%e))},lcm:function(t,e){return i.roundSymmetric(Math.abs(t*e)/i.gcd(t,e))},solveLinearRoots:function(t,e){return 0===t?0===e?null:[]:[-e/t]},solveQuadraticRoots:function(t,e,n){if(0===t)return i.solveLinearRoots(e,n);var r=e*e-4*t*n;return r<0?[]:0===r?[-e/(2*t)]:[(-e-Math.sqrt(r))/(2*t),(-e+Math.sqrt(r))/(2*t)]},cubeRoot:function(t){return t>=0?Math.pow(t,1/3):-Math.pow(-t,1/3)},roundSymmetric:function(t){return i.sign(t)*Math.round(Math.abs(t))},toFixed:function(t,e){var n=Math.pow(10,e),r=i.roundSymmetric(t*n)/n;return parseFloat(r.toFixed(e))},isInteger:function(t){return e("number"==typeof t,"isInteger requires its argument to be a number: "+t),t%1==0},equalsEpsilon:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.EPSILON;return Math.abs(t-e)<=n},sign:function(t){return(t>0)-(t<0)||+t},cosh:function(t){return(Math.exp(t)+Math.exp(-t))/2},sinh:function(t){return(Math.exp(t)-Math.exp(-t))/2},log10:function(t){return Math.log(t)/Math.LN10},numberOfDecimalPlaces:function(t){for(var e=0,n=1;t*n%1!=0;)e++,n*=10;return e},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},arrayRemove:function(t,n){e(i.isArray(t),"invalid array: ".concat(t));var r=t.indexOf(n);e(r>=0,"item, ".concat(n," not found in Array")),t.splice(r,1)},toCamelCase:function(t){return e("string"==typeof t,"invalid str: ".concat(t)),t.toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()}))},toTitleCase:function(t){return e("string"==typeof t,"invalid str: ".concat(t)),t.split("-").map((function(t){return t.length>0?t[0].toUpperCase()+t.substr(1).toLowerCase():""})).join(" ")},deepFreeze:function(t){return e(n,"StandardSimQueryParameters must be loaded before freezing"),!1===e.enabled||(Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(e){!Object.hasOwnProperty.call(t,e)||"object"!==S(t[e])&&"function"!==t[e]||Object.isFrozen(t[e])||i.deepFreeze(t[e])}))),t}};return i})),r("SIM_CORE/util/Range",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(n,i){v(this,t),e("number"==typeof n,"invalid min: ".concat(n)),e("number"==typeof i,"invalid max: ".concat(i)),this._min=n,this._max=i}return g(t,[{key:"toString",value:function(){return"Range[ min: ".concat(this._min,", max: ").concat(this._max," ]")}},{key:"equals",value:function(e){return e instanceof t&&this.min===e.min&&this.max===e.max}},{key:"equalsEpsilon",value:function(e){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EPSILON;return e instanceof t&&["min","max"].every((function(t){return isFinite(i[t])&&isFinite(e[t])?Math.abs(i[t]-e[t])<=r:e[t]===i[t]}))}},{key:"getMin",value:function(){return this._min}},{key:"getMax",value:function(){return this._max}},{key:"getLength",value:function(){return this.max-this.min}},{key:"getCenter",value:function(){return(this._max+this._min)/2}},{key:"isFinite",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this.min)&&isFinite(this.max)}))},{key:"isEmpty",value:function(){return 0===this.getLength()}},{key:"contains",value:function(t){return t>=this._min&&t<=this._max}},{key:"closestTo",value:function(t){return e("number"==typeof t,"invalid value: ".concat(t)),this.contains(t)?t:Math.max(Math.min(t,this.max),this.min)}},{key:"containsRange",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this._min<=n.min&&this._max>=n.max}},{key:"intersects",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this._max>=n.min&&n.max>=this._min}},{key:"copy",value:function(){return new t(this.min,this.max)}},{key:"union",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),new t(Math.min(this.min,n.min),Math.max(this.max,n.max))}},{key:"intersection",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),new t(Math.max(this.min,n.min),Math.min(this.max,n.max))}},{key:"setMin",value:function(t){return e("number"==typeof t,"invalid min: ".concat(t)),this._min=t,this}},{key:"setMax",value:function(t){return e("number"==typeof t,"invalid max: ".concat(t)),this._max=t,this}},{key:"setMinMax",value:function(t,e){return this.setMin(t),this.setMax(e),this}},{key:"roundSymmetric",value:function(){return this.setMinMax(n.roundSymmetric(this.min),n.roundSymmetric(this.max))}},{key:"dilate",value:function(t){return e("number"==typeof t,"invalid amount: ".concat(t)),this.expand(t,t)}},{key:"erode",value:function(t){return this.dilate(-t)}},{key:"expand",value:function(t,n){return e("number"==typeof t,"invalid min: ".concat(t)),e("number"==typeof n,"invalid max: ".concat(n)),this.setMinMax(this.min-t,this.max+n)}},{key:"shift",value:function(t){return e("number"==typeof t,"invalid amount: ".concat(t)),this.expand(-t,t)}},{key:"includeRange",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this.setMinMax(Math.min(this.min,n.min),Math.max(this.max,n.max))}},{key:"intersectRange",value:function(n){return e(n instanceof t,"invalid range: ".concat(n)),this.setMinMax(Math.max(this.min,n.min),Math.min(this.max,n.max))}},{key:"min",get:function(){return this.getMin()},set:function(t){this.setMin(t)}},{key:"max",get:function(){return this.getMax()},set:function(t){this.setMax(t)}},{key:"length",get:function(){return this.getLength()}},{key:"center",get:function(){return this.getCenter()}}]),t}();return i.ZERO=n.deepFreeze(new i(0,0)),i.EVERYTHING=n.deepFreeze(new i(Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY)),i})),r("SIM_CORE/util/Vector",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(n,i){v(this,t),e("number"==typeof n,"invalid x: ".concat(n)),e("number"==typeof i,"invalid y: ".concat(i)),this._x=n,this._y=i}return g(t,[{key:"getX",value:function(){return this._x}},{key:"getY",value:function(){return this._y}},{key:"copy",value:function(){return new t(this._x,this._y)}},{key:"toString",value:function(){return"Vector[ x: ".concat(this._x,", y: ").concat(this._y," ]")}},{key:"equals",value:function(e){return e instanceof t&&this._x===e.x&&this._y===e.y}},{key:"equalsEpsilon",value:function(i){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EPSILON;return e(i instanceof t&&"number"==typeof o),["x","y"].every((function(t){return isFinite(r[t])&&isFinite(i[t])?Math.abs(r[t]-i[t])<=o:i[t]===r[t]}))}},{key:"getMagnitude",value:function(){return Math.sqrt(this.dot(this))}},{key:"dot",value:function(t){return this.dotXY(t.x,t.y)}},{key:"dotXY",value:function(t,e){return this.x*t+this.y*e}},{key:"distanceToXY",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),Math.sqrt(Math.pow(this._x-t,2)+Math.pow(this._y-n,2))}},{key:"distanceTo",value:function(n){return e(n instanceof t,"invalid point: ".concat(n)),this.distanceToXY(n.x,n.y)}},{key:"angleBetween",value:function(t){return Math.acos(this.dot(t)/(this.magnitude*t.magnitude))}},{key:"getAngle",value:function(){return Math.atan2(this._y,this._x)}},{key:"isFinite",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return isFinite(this._x)&&isFinite(this._y)}))},{key:"setX",value:function(t){return e("number"==typeof t,"invalid x: ".concat(t)),this._x=t,this}},{key:"setY",value:function(t){return e("number"==typeof t,"invalid y: ".concat(t)),this._y=t,this}},{key:"set",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.setX(n.x).setY(n.y)}},{key:"setXY",value:function(t,e){return this.setX(t).setY(e)}},{key:"roundSymmetric",value:function(){return this.setXY(n.roundSymmetric(this.x),n.roundSymmetric(this.y))}},{key:"multiply",value:function(t){return e("number"==typeof t,"invalid scalar: ".concat(t)),this.setXY(this._x*t,this._y*t)}},{key:"componentMultiply",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.setXY(this._x*n.x,this._y*n.y)}},{key:"negate",value:function(){return this.multiply(-1)}},{key:"divide",value:function(t){return this.multiply(1/t)}},{key:"addXY",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.setXY(this._x+t,this._y+n)}},{key:"add",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.addXY(n.x,n.y)}},{key:"subtractXY",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.setXY(this._x-t,this._y-n)}},{key:"subtract",value:function(n){return e(n instanceof t,"invalid vector: ".concat(n)),this.subtractXY(n.x,n.y)}},{key:"normalize",value:function(){var t=this.magnitude;if(0!==t)return this.divide(t);e(!1,"Cannot normalize a zero-magnitude vector")}},{key:"setAngle",value:function(t){e("number"==typeof t,"invalid angle: ".concat(t));var n=this.getMagnitude();return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this}},{key:"rotate",value:function(t){return this.setAngle(t+this.angle)}},{key:"rotateAboutXY",value:function(t,e,n){var i=this.x-t,r=this.y-e,o=Math.cos(n),a=Math.sin(n);return this.x=t+i*o-r*a,this.y=e+i*a+r*o,this}},{key:"rotateAboutPoint",value:function(t,e){return this.rotateAboutXY(t.x,t.y,e)}},{key:"x",get:function(){return this.getX()},set:function(t){this.setX(t)}},{key:"y",get:function(){return this.getY()},set:function(t){this.setY(t)}},{key:"magnitude",get:function(){return this.getMagnitude()}},{key:"angle",get:function(){return this.getAngle()},set:function(t){this.setAngle(t)}}]),t}();return i.ZERO=n.deepFreeze(new i(0,0)),i.scratch=i.ZERO.copy(),i})),r("SIM_CORE/util/Bounds",["require","SIM_CORE/util/assert","SIM_CORE/util/Range","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Range"),i=t("SIM_CORE/util/Util"),r=t("SIM_CORE/util/Vector"),o=function(){function t(i,r,o,a){v(this,t),e("number"==typeof i,"invalid minX: ".concat(i)),e("number"==typeof r,"invalid minY: ".concat(r)),e("number"==typeof o,"invalid maxX: ".concat(o)),e("number"==typeof a,"invalid maxY: ".concat(a)),this.xRange=new n(i,o),this.yRange=new n(r,a)}return g(t,[{key:"toString",value:function(){return"Bounds[ min:( ".concat(this.minX,", ").concat(this.minY," ), max:( ").concat(this.maxX,", ").concat(this.maxY,") ]")}},{key:"equals",value:function(e){return e instanceof t&&this.xRange.equals(e.xRange)&&this.yRange.equals(e.yRange)}},{key:"equalsEpsilon",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.EPSILON;return e instanceof t&&(this.xRange.equalsEpsilon(e.xRange,n)&&this.yRange.equalsEpsilon(e.yRange,n))}},{key:"getMinX",value:function(){return this.xRange.min}},{key:"getMinY",value:function(){return this.yRange.min}},{key:"getMaxX",value:function(){return this.xRange.max}},{key:"getMaxY",value:function(){return this.yRange.max}},{key:"getWidth",value:function(){return this.xRange.length}},{key:"getHeight",value:function(){return this.yRange.length}},{key:"getLeft",value:function(){return this.minX}},{key:"getTop",value:function(){return this.maxY}},{key:"getRight",value:function(){return this.maxX}},{key:"getBottom",value:function(){return this.minY}},{key:"getTopLeft",value:function(){return new r(this.minX,this.maxY)}},{key:"getTopCenter",value:function(){return new r(this.getCenterX(),this.maxY)}},{key:"getTopRight",value:function(){return new r(this.maxX,this.maxY)}},{key:"getCenterLeft",value:function(){return new r(this.minX,this.getCenterY())}},{key:"getCenterRight",value:function(){return new r(this.maxX,this.getCenterY())}},{key:"getBottomLeft",value:function(){return new r(this.minX,this.minY)}},{key:"getBottomCenter",value:function(){return new r(this.getCenterX(),this.minY)}},{key:"getBottomRight",value:function(){return new r(this.maxX,this.minY)}},{key:"getCenter",value:function(){return new r(this.getCenterX(),this.getCenterY())}},{key:"getCenterX",value:function(){return this.xRange.center}},{key:"getCenterY",value:function(){return this.yRange.center}},{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"isFinite",value:function(){return this.xRange.isFinite()&&this.yRange.isFinite()}},{key:"isEmpty",value:function(){return 0===this.getArea()}},{key:"containsCoordinates",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.xRange.contains(t)&&this.yRange.contains(n)}},{key:"containsPoint",value:function(t){return e(t instanceof r,"invalid point: ".concat(t)),this.containsCoordinates(t.x,t.y)}},{key:"closestPointTo",value:function(t){return e(t instanceof r,"invalid location: ".concat(t)),new r(this.xRange.closestTo(t.x),this.yRange.closestTo(t.y))}},{key:"containsBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.containsRange(n.xRange)&&this.yRange.containsRange(n.yRange)}},{key:"intersectsBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.intersects(n.xRange)&&this.yRange.intersects(n.yRange)}},{key:"copy",value:function(){return new t(this.minX,this.minY,this.maxX,this.maxY)}},{key:"union",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),t.withRanges(this.xRange.union(n.xRange),this.yRange.union(n.yRange))}},{key:"intersection",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),t.withRanges(this.xRange.intersection(n.xRange),this.yRange.intersection(n.yRange))}},{key:"setMinX",value:function(t){return e("number"==typeof t,"invalid minX: ".concat(t)),this.xRange.min=t,this}},{key:"setMinY",value:function(t){return e("number"==typeof t,"invalid minY: ".concat(t)),this.yRange.min=t,this}},{key:"setMaxX",value:function(t){return e("number"==typeof t,"invalid maxX: ".concat(t)),this.xRange.max=t,this}},{key:"setMaxY",value:function(t){return e("number"==typeof t,"invalid maxY: ".concat(t)),this.yRange.max=t,this}},{key:"setAll",value:function(t,e,n,i){return this.xRange.setMinMax(t,n),this.yRange.setMinMax(e,i),this}},{key:"set",value:function(t){return this.setAll(t.minX,t.minY,t.maxX,t.maxY)}},{key:"roundSymmetric",value:function(){return this.xRange.roundSymmetric(),this.yRange.roundSymmetric(),this}},{key:"dilate",value:function(t){return e("number"==typeof t,"invalid amount: ".concat(t)),this.expand(t,t,t,t)}},{key:"erode",value:function(t){return this.dilate(-t)}},{key:"expand",value:function(t,n,i,r){return e("number"==typeof t,"invalid left: ".concat(t)),e("number"==typeof n,"invalid bottom: ".concat(n)),e("number"==typeof i,"invalid right: ".concat(i)),e("number"==typeof r,"invalid top: ".concat(r)),this.xRange.expand(t,i),this.yRange.expand(n,r),this}},{key:"shift",value:function(t,n){return e("number"==typeof t,"invalid x: ".concat(t)),e("number"==typeof n,"invalid y: ".concat(n)),this.xRange.shift(t),this.yRange.shift(n),this}},{key:"includePoint",value:function(t){return e(t instanceof r&&t.isFinite(),"invalid point: ".concat(t)),this.setAll(Math.min(this.minX,t.x),Math.min(this.minY,t.y),Math.max(this.maxX,t.x),Math.max(this.maxY,t.y))}},{key:"includeBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.includeRange(n.xRange),this.yRange.includeRange(n.yRange),this}},{key:"intersectBounds",value:function(n){return e(n instanceof t,"invalid bounds: ".concat(n)),this.xRange.intersectRange(n.xRange),this.yRange.intersectRange(n.yRange),this}},{key:"minX",get:function(){return this.getMinX()},set:function(t){this.setMinX(t)}},{key:"minY",get:function(){return this.getMinY()},set:function(t){this.setMinY(t)}},{key:"maxX",get:function(){return this.getMaxX()},set:function(t){this.setMaxX(t)}},{key:"maxY",get:function(){return this.getMaxY()},set:function(t){this.setMaxY(t)}},{key:"width",get:function(){return this.getWidth()}},{key:"height",get:function(){return this.getHeight()}},{key:"left",get:function(){return this.getLeft()}},{key:"top",get:function(){return this.getTop()}},{key:"right",get:function(){return this.getRight()}},{key:"bottom",get:function(){return this.getBottom()}},{key:"topLeft",get:function(){return this.getTopLeft()}},{key:"topCenter",get:function(){return this.getTopCenter()}},{key:"topRight",get:function(){return this.getTopRight()}},{key:"centerLeft",get:function(){return this.getCenterLeft()}},{key:"centerRight",get:function(){return this.getCenterRight()}},{key:"bottomLeft",get:function(){return this.getBottomLeft()}},{key:"bottomCenter",get:function(){return this.getBottomCenter()}},{key:"bottomRight",get:function(){return this.getBottomRight()}},{key:"center",get:function(){return this.getCenter()}},{key:"centerX",get:function(){return this.getCenterX()}},{key:"centerY",get:function(){return this.getCenterY()}},{key:"area",get:function(){return this.getArea()}}],[{key:"rect",value:function(e,n,i,r){return new t(e,n,e+i,n+r)}},{key:"withPoints",value:function(e,n){return new t(e.x,e.y,n.x,n.y)}},{key:"withRanges",value:function(i,r){return e(i instanceof n,"invalid xRange: ".concat(i)),e(r instanceof n,"invalid yRange: ".concat(r)),new t(i.min,r.min,i.max,r.max)}}]),t}();return o.ZERO=i.deepFreeze(new o(0,0,0,0)),o.EVERYTHING=i.deepFreeze(new o(Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY)),o.scratch=o.ZERO.copy(),o})),r("SIM_CORE/util/Enum",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(i){var r=this;v(this,t),e(n.isArray(i)&&i.every((function(t){return"string"==typeof t&&t.toUpperCase()===t})),"invalid keys: ".concat(i)),e(["includes","KEYS","MEMBERS"],"Keys ".concat(i," contains a build-in provided value.")),this.KEYS=i,this.MEMBERS=[],i.forEach((function(e){r[e]=new t.Member(e),r.MEMBERS.push(r[e])})),n.deepFreeze(this)}return g(t,[{key:"includes",value:function(t){return this.MEMBERS.includes(t)}}]),t}();return i.Member=function(){function t(e){v(this,t),this.name=e}return g(t,[{key:"toString",value:function(){return this.name}}]),t}(),i})),r("ROTATIONAL_MOTION/intro/model/CircularMotionTypes",["require","SIM_CORE/util/Enum"],(function(t){"use strict";return new(t("SIM_CORE/util/Enum"))(["UNIFORM","NON_UNIFORM"])})),r("SIM_CORE/util/Property",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=["string","number","boolean","function"];return function(){function t(r,o){v(this,t),o=Object.assign({type:null,validValues:null,isValidValue:null},o),e(!o.type||i.includes(o.type)||!!o.type.constructor),e(!o.validValues||n.isArray(o.validValues)),e(!o.isValidValue||"function"==typeof o.isValidValue),this._value=r,this._initialValue=r,this._listeners=[],this._isDisposed=!1,this._type=o.type,this._validValues=o.validValues,this._isValidValue=o.isValidValue,this._validateValue(this._initialValue)}return g(t,[{key:"equals",value:function(n){return e(n instanceof t,"invalid other: ".concat(n)),this._equalsValue(this._value,n.value)}},{key:"get",value:function(){return this._value}},{key:"set",value:function(t){var n=this;if(e(!this._isDisposed,"cannot set value of a disposed Property"),!this._equalsValue(this.value,t)){this._validateValue(t);var i=this.get();return this._value=t,this._listeners.forEach((function(t){t(n.get(),i)})),this}}},{key:"toggle",value:function(){return this.set(!this.get()),this}},{key:"getInitialValue",value:function(){return this._initialValue}},{key:"reset",value:function(){return this.set(this._initialValue)}},{key:"link",value:function(t){return this.lazyLink(t),t(this.get()),this}},{key:"lazyLink",value:function(t){return e(!this._isDisposed,"cannot link listener of a disposed Property"),e(!this.hasListener(t),"cannot link the same listener twice: ".concat(t)),this._listeners.push(t),this}},{key:"unlink",value:function(t){return e(this.hasListener(t),"listener was never registered: ".concat(t)),n.arrayRemove(this._listeners,t),this}},{key:"unlinkAll",value:function(){return this._listeners=[],this}},{key:"hasListener",value:function(t){return e("function"==typeof t,"invalid listener: ".concat(t)),this._listeners.includes(t)}},{key:"linkAttribute",value:function(t,n){e(t[n],"object ".concat(t," must have attribute ").concat(n));var i=function(e){t[n]=e};return this.link(i),i}},{key:"dispose",value:function(){return this.unlinkAll(),this._isDisposed=!0,this}},{key:"_equalsValue",value:function(t,e){return t&&e&&t.constructor===e.constructor&&t.equals&&e.equals?t.equals(e):t===e}},{key:"_validateValue",value:function(t){e(!this._type||(i.includes(this._type)?S(t)===this._type:t instanceof this._type),"value ".concat(t," not of type ").concat(this._type)),e(!this._validValues||this._validValues.includes(t),"value ".concat(t," not inside the valid values: ").concat(this._validValues)),e(!this._isValidValue||!0===this._isValidValue(t),"value ".concat(t," did not pass isValidValue: ").concat(this._isValidValue))}},{key:"value",get:function(){return this.get()},set:function(t){this.set(t)}},{key:"initialValue",get:function(){return this.getInitialValue()}}]),t}()})),r("SIM_CORE/util/Symbols",["require"],(function(t){"use strict";return{PLUS:"+",MINUS:"−",TIMES:"×",DIVIDE:"÷",DOT:"⋅",UNARY_PLUS:"+",UNARY_MINUS:"-",EQUAL_TO:"=",NOT_EQUAL_TO:"≠",GREATER_THAN:">",LESS_THAN:"<",LESS_THAN_OR_EQUAL:"≤",GREATER_THAN_OR_EQUAL:"≥",PERCENT:"%",INFINITY:"∞",PI:"π",PLUS_OR_MINUS:"±",THETA:"θ",DEGREES:"°",NO_VALUE:"—",OMEGA:"ω",ALPHA:"α"}})),r("ROTATIONAL_MOTION/common/RotationalMotionConstants",["require","SIM_CORE/util/Symbols"],(function(t){"use strict";var e=t("SIM_CORE/util/Symbols");return{SCREEN_VIEW_X_MARGIN:60,SCREEN_VIEW_Y_MARGIN:25,INTRO_BALL_RADIUS:.05,VELOCITY_SCALAR:.5,ACCELERATION_SCALAR:.5,INTRO_MAX_VELOCITY:Math.PI/2,INTRO_MAX_VELOCITY_SYMBOL:"".concat(e.PI," / 2")}})),r("ROTATIONAL_MOTION/common/model/Ball",["require","SIM_CORE/util/assert","SIM_CORE/util/Property","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Property"),i=t("SIM_CORE/util/Vector");return function(){function t(r,o,a){v(this,t),e(r instanceof i,"invalid initialCenterPosition: ".concat(r)),e("number"==typeof o,"invalid initialRadius: ".concat(o)),this.centerPositionProperty=new n(r,{type:i}),this.radiusProperty=new n(o,{type:"number",isValidValue:function(t){return t>=0}})}return g(t,[{key:"reset",value:function(){this.centerPositionProperty.reset(),this.radiusProperty.reset()}},{key:"center",get:function(){return this.centerPositionProperty.value},set:function(t){this.centerPositionProperty.value=t}},{key:"radius",get:function(){return this.radiusProperty.value},set:function(t){this.radiusProperty.value=t}}]),t}()})),r("SIM_CORE/util/Multilink",["require","SIM_CORE/util/assert","SIM_CORE/util/Property","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Property"),i=t("SIM_CORE/util/Util");return function(){function t(r,o){var a=this,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];v(this,t),e(i.isArray(r)&&r.every((function(t){return t instanceof n})),"invalid dependencies: ".concat(r)),e("function"==typeof o,"invalid callback: ".concat(o)),e("boolean"==typeof s,"invalid lazy: ".concat(s)),this._dependencies=r,this._isDisposed=!1,this._listener=function(){o.apply(void 0,d(a._dependencies.map((function(t){return t.value}))))},r.forEach((function(t){t.lazyLink(a._listener)})),s||this._listener()}return g(t,[{key:"dispose",value:function(){var t=this;e(!1===this._isDisposed,"A Multilink cannot be disposed twice."),this._dependencies.forEach((function(e){e.unlink(t._listener)})),this._dependencies=null,this._listener=null,this._isDisposed=!0}}],[{key:"lazy",value:function(e,n){return new t(e,n,!0)}}]),t}()})),r("SIM_CORE/util/DerivedProperty",["require","SIM_CORE/util/assert","SIM_CORE/util/Multilink","SIM_CORE/util/Property","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Multilink"),r=t("SIM_CORE/util/Property"),a=t("SIM_CORE/util/Util");return function(t){s(u,t);var c=i(u);function u(t,i,s){var y;v(this,u),e(a.isArray(t)&&t.every((function(t){return t instanceof r})),"invalid dependencies: ".concat(t)),e("function"==typeof i,"invalid derivation: ".concat(i));var _=i.apply(void 0,d(t.map((function(t){return t.value}))));return(y=c.call(this,_,s))._dependenciesMultilink=n.lazy(t,(function(){l(h(u.prototype),"set",o(y)).call(o(y),i.apply(void 0,arguments))})),y._initialValue=null,y}return g(u,[{key:"dispose",value:function(){return this._dependenciesMultilink.dispose(),l(h(u.prototype),"dispose",this).call(this)}},{key:"set",value:function(t){e(!1,"Cannot set values directly to a DerivedProperty, tried to set: "+t)}},{key:"getInitialValue",value:function(){e(!1,"Cannot get the initial value of a DerivedProperty")}}]),u}(r)})),r("ROTATIONAL_MOTION/intro/model/IntroBall",["require","SIM_CORE/util/assert","ROTATIONAL_MOTION/common/model/Ball","SIM_CORE/util/DerivedProperty","SIM_CORE/util/Property","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("ROTATIONAL_MOTION/common/model/Ball"),r=t("SIM_CORE/util/DerivedProperty"),o=t("SIM_CORE/util/Property"),a=t("SIM_CORE/util/Vector");return function(t){s(c,t);var n=i(c);function c(t,i,s,l,u,h){var d;return v(this,c),e(s instanceof o,"invalid angularVelocityProperty"),e(l instanceof o,"invalid angularAccelerationProperty"),e(u instanceof o,"invalid circularMotionRadiusProperty"),e(h instanceof o,"invalid circularMotionAngleProperty"),(d=n.call(this,t,i)).tangentialVelocityVectorProperty=new r([s,u,h],(function(t,e,n){return new a(t*e,0).rotate(n+Math.PI/2)})),d.tangentialAccelerationVectorProperty=new r([l,u,h],(function(t,e,n){return new a(t*e,0).rotate(n+Math.PI/2)})),d}return c}(n)})),r("ROTATIONAL_MOTION/intro/model/Spinner",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","ROTATIONAL_MOTION/intro/model/IntroBall","SIM_CORE/util/Multilink","SIM_CORE/util/Property","SIM_CORE/util/Range","ROTATIONAL_MOTION/common/RotationalMotionConstants","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),i=t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes"),r=t("ROTATIONAL_MOTION/intro/model/IntroBall"),o=t("SIM_CORE/util/Multilink"),a=t("SIM_CORE/util/Property"),s=t("SIM_CORE/util/Range"),c=(t("ROTATIONAL_MOTION/common/RotationalMotionConstants"),t("SIM_CORE/util/Util")),l=t("SIM_CORE/util/Vector");return function(){function t(c,u,h,d){var y=this;v(this,t),e(!d||Object.getPrototypeOf(d)===Object.prototype,"invalid options: ".concat(d)),e(i.includes(c),"invalid circularMotionType: ".concat(c)),d=Object.assign({isPlayingInitially:!1,stepTime:.03,initialAngle:0,initialRadius:.5,ballRadius:.05,radiusRange:new s(.1,1)},d),this.type=c,this.angularVelocityProperty=new a(u,{type:"number"}),this.angularAccelerationProperty=new a(h,{type:"number"}),this.isPlayingProperty=new a(d.isPlayingInitially,{type:"boolean"}),this.radiusProperty=new a(d.initialRadius,{type:"number",isValidValue:function(t){return d.radiusRange.contains(t)}}),this.angleProperty=new a(d.initialAngle,{type:"number"}),this.radiusRange=d.radiusRange,this.stepTime=d.stepTime,this.playBounds=new n(-this.radiusRange.max-d.ballRadius,-this.radiusRange.max-d.ballRadius,this.radiusRange.max+d.ballRadius,this.radiusRange.max+d.ballRadius),this.ball=new r(new l(d.initialRadius,0).setAngle(d.initialAngle),d.ballRadius,this.angularVelocityProperty,this.angularAccelerationProperty,this.radiusProperty,this.angleProperty),o.lazy([this.angleProperty,this.radiusProperty],(function(t,e){y.ball.center=new l(e,0).setAngle(t)}))}return g(t,[{key:"reset",value:function(){this.angularVelocityProperty.reset(),this.angularAccelerationProperty.reset(),this.radiusProperty.reset(),this.angleProperty.reset(),this.isPlayingProperty.reset(),this.ball.reset()}},{key:"step",value:function(t){this.angle+=this.angularVelocityProperty.value*t+.5*this.angularAccelerationProperty.value*t*t,this.angularAccelerationProperty.value&&(this.angularVelocityProperty.value=this.angularVelocityProperty.value+this.angularAccelerationProperty.value*t)}},{key:"stepBackwards",value:function(){this.isPlayingProperty.value=!1,this.step(-this.stepTime)}},{key:"stepForwards",value:function(){this.isPlayingProperty.value=!1,this.step(this.stepTime)}},{key:"dragBallTo",value:function(t){var e=t.angle;this.angleProperty.value=e>0?e:2*Math.PI+e,this.radius=c.clamp(t.magnitude,this.radiusRange.min,this.radiusRange.max)}},{key:"radius",get:function(){return this.radiusProperty.value},set:function(t){this.radiusProperty.value=t}},{key:"angle",get:function(){return this.angleProperty.value},set:function(t){this.angleProperty.value=t}}]),t}()})),r("ROTATIONAL_MOTION/intro/model/UniformSpinner",["require","SIM_CORE/util/assert","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","SIM_CORE/util/Range","ROTATIONAL_MOTION/intro/model/Spinner"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes"),r=t("SIM_CORE/util/Range");return function(t){s(a,t);var o=i(a);function a(t){var i;return v(this,a),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),t=Object.assign({angularVelocityRange:new r(0,Math.PI/2),initialAngularVelocity:Math.PI/4},t),(i=o.call(this,n.UNIFORM,t.initialAngularVelocity,0,t)).angularVelocityRange=t.angularVelocityRange,e.enabled&&i.angularVelocityProperty.link((function(t){e(i.angularVelocityRange.contains(t))})),i}return a}(t("ROTATIONAL_MOTION/intro/model/Spinner"))})),r("ROTATIONAL_MOTION/intro/model/nonUniformSpinner",["require","SIM_CORE/util/assert","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","SIM_CORE/util/Property","SIM_CORE/util/Range","ROTATIONAL_MOTION/intro/model/Spinner"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes"),r=(t("SIM_CORE/util/Property"),t("SIM_CORE/util/Range"));return function(t){s(a,t);var o=i(a);function a(t){var i;return v(this,a),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),t=Object.assign({angularAccelerationRange:new r(0,Math.PI/4),initialAngularVelocity:0,initialAngularAcceleration:Math.PI/4},t),(i=o.call(this,n.NON_UNIFORM,t.initialAngularVelocity,t.initialAngularAcceleration,t)).angularAccelerationRange=t.angularAccelerationRange,i.initialAngularVelocity=t.initialAngularVelocity,e.enabled&&i.angularAccelerationProperty.link((function(t){e(i.angularAccelerationRange.contains(t))})),i}return a}(t("ROTATIONAL_MOTION/intro/model/Spinner"))})),r("ROTATIONAL_MOTION/intro/model/IntroModel",["require","SIM_CORE/util/Bounds","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","SIM_CORE/util/Property","ROTATIONAL_MOTION/common/RotationalMotionConstants","ROTATIONAL_MOTION/intro/model/UniformSpinner","ROTATIONAL_MOTION/intro/model/nonUniformSpinner"],(function(t){"use strict";t("SIM_CORE/util/Bounds"),t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes"),t("SIM_CORE/util/Property"),t("ROTATIONAL_MOTION/common/RotationalMotionConstants");var e=t("ROTATIONAL_MOTION/intro/model/UniformSpinner"),n=t("ROTATIONAL_MOTION/intro/model/nonUniformSpinner");return function(){function t(){v(this,t),this.uniformSpinner=new e,this.nonUniformSpinner=new n}return g(t,[{key:"step",value:function(t){this.uniformSpinner.isPlayingProperty.value&&this.uniformSpinner.step(t),this.nonUniformSpinner.isPlayingProperty.value&&this.nonUniformSpinner.step(t)}},{key:"reset",value:function(){this.uniformSpinner.reset(),this.nonUniformSpinner.reset()}}]),t}()})),r("SIM_CORE/core-internal/DOMObject",["require","SIM_CORE/util/assert","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Util"),i=function(){function t(n){v(this,t),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n));var i={type:"div",style:{padding:0,margin:0,boxSizing:"border-box",position:"relative"},text:null,id:null,class:null,src:null,href:null,attributes:null};(n=Object.assign({},i,{},n)).style=Object.assign({},i.style,{},n.style),e("string"==typeof n.type,"invalid options.type: ".concat(n.type)),this._type=n.type,this._id=n.id,this._class=n.class,this._src=n.src,this._href=n.href,this._text=n.text,this._children=[],this._isDisposed=!1,this._element=t.SVG_TYPES.includes(this._type)?document.createElementNS(t.SVG_NAMESPACE,this._type):document.createElement(this._type),this._textNode=document.createTextNode(this._text||""),this._element.appendChild(this._textNode),this._parent=null,n.attributes&&this.addAttributes(n.attributes),n.style&&this.addStyles(n.style),this.setAttribute("id",this._id),this.setAttribute("class",this._class),this._text&&this.setText(this._text),this.setAttribute("src",this._src),this.setAttribute("href",this._href)}return g(t,[{key:"setAttribute",value:function(t,n){return e(!t||"string"==typeof t,"invalid name: ".concat(t)),["id","class","src","href"].includes(t)?(n&&e("src"!==t||"img"===this._type,"cannot set 'src' for type: ".concat(this._type)),n&&e("href"!==t||"a"===this._type,"cannot set 'href' for type: ".concat(this._type)),this["_".concat(t)]=n,this["_".concat(t)]?this._element.setAttribute(t,n):this._element.removeAttribute(t)):this._element.setAttribute(t,n),this}},{key:"setText",value:function(t){return e(!t||"string"==typeof t,"invalid text: ".concat(t)),this._text=t,this._textNode.textContent=this._text,this}},{key:"addChild",value:function(n){return e(n instanceof t,"invalid child: ".concat(n)),e(!this.hasChild(n),"cannot add child that is already a child."),e(n!==this,"cannot add self as a child"),e(!n._isDisposed,"Tried to add a disposed DOMObject"),this._children.push(n),n._parent=this,this._element.appendChild(n.element),this}},{key:"setChildren",value:function(n){var i=this;return n.every((function(t,e){return i._children[e]===t}))||(e(Array.isArray(n)&&n.every((function(e){return e instanceof t})),"invalid children: ".concat(n)),this.removeAllChildren(),n.forEach((function(t){return i.addChild(t)}))),this}},{key:"removeChild",value:function(t){return e(this.hasChild(t),"Attempted to removeChild with a DOMObject that was not a child."),n.arrayRemove(this.children,t),this._element.removeChild(t.element),t._parent=null,this}},{key:"removeAllChildren",value:function(){return d(this._children).forEach(this.removeChild.bind(this)),this}},{key:"hasChild",value:function(n){return e(n instanceof t,"invalid potentialChild: ".concat(n)),this._children.includes(n)&&n.parent===this}},{key:"moveChildToIndex",value:function(t,i){if(e(this.hasChild(t),"invalid child: ".concat(t)),e("number"==typeof i&&i%1==0&&i>=0&&i<this._children.length,"invalid index: ".concat(i)),this._children[i]!==t){var r=i<this._children.length-1?this._children[i].element:null;this.element.insertBefore(t.element,r),n.arrayRemove(this._children,t),this._children.splice(i,0,t)}return this}},{key:"moveToFront",value:function(){if(this._parent)return this._parent.moveChildToIndex(this,this._parent.children.length-1)}},{key:"moveToBack",value:function(){if(this._parent)return this._parent.moveChildToIndex(this,0)}},{key:"addStyles",value:function(n){return e(Object.getPrototypeOf(n)===Object.prototype,"invalid style object: ".concat(n)),t.addElementStyles(this._element,n),this}},{key:"addAttributes",value:function(t){var n=this;return e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid attributes object: ".concat(t)),Object.keys(t).forEach((function(e){n.setAttribute(e,t[e])})),this}},{key:"dispose",value:function(){return this._isDisposed=!0,this.removeAllChildren(),this._parent&&this._parent.removeChild(this),this}},{key:"element",get:function(){return this._element}},{key:"type",get:function(){return this._type}},{key:"id",get:function(){return this._id},set:function(t){this.setAttribute("id",t)}},{key:"class",get:function(){return this._class},set:function(t){this.setAttribute("class",t)}},{key:"text",get:function(){return this._text},set:function(t){this.setText(t)}},{key:"src",get:function(){return this._src},set:function(t){this.setAttribute("src",t)}},{key:"href",get:function(){return this._href},set:function(t){this.setAttribute("href",t)}},{key:"children",get:function(){return this._children},set:function(t){this.setChildren(t)}},{key:"parent",get:function(){return this._parent}},{key:"isDisposed",get:function(){return this._isDisposed}},{key:"style",get:function(){return this._element.style}}],[{key:"addElementStyles",value:function(t,n){e(t instanceof Element||t instanceof HTMLElement,"invalid element: ".concat(t)),e(Object.getPrototypeOf(n)===Object.prototype,"invalid style object: ".concat(n));var i=function(e){return void 0!==t.style[e]},r=function(e,i){t.style[e]=n[i]};Object.keys(n).forEach((function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);i(t)?r(t,t):i("moz".concat(e))?r("moz".concat(e),t):i("Moz".concat(e))?r("Moz".concat(e),t):i("MozOsx".concat(e))?r("MozOsx".concat(e),t):i("webkit".concat(e))?r("webkit".concat(e),t):i("ms".concat(e))?r("ms".concat(e),t):i("o".concat(e))&&r("o".concat(e),t)}))}}]),t}();return i.SVG_TYPES=["svg","g","rect","circle","ellipse","line","path","polygon","text","image","defs","stop","radialGradient","linearGradient"],i.SVG_NAMESPACE="http://www.w3.org/2000/svg",i})),r("SIM_CORE/util/ColorWheel",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),i=t("SIM_CORE/util/Util"),r={},o={rgb:/^rgb\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*\)$/,rgba:/^rgba\(\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*(\d{1,3}%?)\s*,\s*((\d+|\d*\.\d+)%?)\s*\)$/,hex:/^#((?:[A-Fa-f0-9]{2}){3,4}|(?:[A-Fa-f0-9]{1}){3,4})$/,hsl:/^hsl\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*\)$/,hsla:/^hsla\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*,\s*((\d+|\d*\.\d+)%?)\s*\)$/,keyword:/^[a-z]+$/},a=function(){function t(){v(this,t)}return g(t,null,[{key:"shade",value:function(n,i){if(e("string"==typeof n,"invalid color: ".concat(n)),0===i)return n;var o;if(Object.prototype.hasOwnProperty.call(r,n)?o=r[n]:n.includes("rgb")?o=t.parseRgb(n):n.includes("hsl")?o=t.hslToRgba(n):n.includes("#")?o=t.hexToRgba(n):t.isKeyword(n)&&(o=t.keywordToRgba(n)),e(o,"invalid color: ".concat(n)),i>0){var a=Math.min(255,o[0]+Math.floor(i*(255-o[0]))),s=Math.min(255,o[1]+Math.floor(i*(255-o[1]))),c=Math.min(255,o[2]+Math.floor(i*(255-o[2])));return t.formatRgbString(a,s,c,o[3])}var l=Math.max(0,o[0]-Math.floor(-i*o[0])),u=Math.max(0,o[1]-Math.floor(-i*o[1])),h=Math.max(0,o[2]-Math.floor(-i*o[2]));return t.formatRgbString(l,u,h,o[3])}},{key:"isRgb",value:function(t){return o.rgb.test(t)}},{key:"isRgba",value:function(t){return o.rgba.test(t)}},{key:"isHex",value:function(t){return o.hex.test(t)}},{key:"isHsl",value:function(t){return o.hsl.test(t)}},{key:"isHsla",value:function(t){return o.hsla.test(t)}},{key:"isKeyword",value:function(e){return t._testElement||t._initializeColorTesting(),t._testElement.style.background=null,t._testElement.style.background=e,o.keyword.test(e)&&!!t._testElement.style.background.length}},{key:"hexToRgba",value:function(n){if(e.enabled&&e(t.isHex(n),"invalid hex: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];3!==(n=n.replace("#","")).length&&4!==n.length||(n=d(n).map((function(t){return t+t})).join("")),6===n.length&&(n+="FF");var i=[0,1,2].map((function(t){return parseInt(n.substring(2*t,2*(t+1)),16)}));return i.push(parseInt(n.substring(6,8),16)/255),r[n]=t._clampRgbaArray(i),i}},{key:"hslToRgba",value:function(n){if(e.enabled&&e(t.isHsl(n)||t.isHsla(n),"invalid hsl: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];var o=t._parseToArguments(n),a=parseFloat(o[0])%360/360,s=i.clamp(parseInt(o[1].replace("%",""),10)/100,0,1),c=i.clamp(parseInt(o[2].replace("%",""),10)/100,0,1);3===o.length&&o.push("1");var l=o[3].includes("%")?i.clamp(parseFloat(o[3].replace("%",""))/100,0,1):i.clamp(parseFloat(o[3]),0,1),u=c<.5?c*(s+1):c+s-c*s,h=2*c-u,d=function(t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?h+6*(u-h)*t:t<.5?u:t<2/3?h+(u-h)*(2/3-t)*6:h},y=i.roundSymmetric(255*d(a+1/3)),_=i.roundSymmetric(255*d(a)),p=i.roundSymmetric(255*d(a-1/3));return r[n]=t._clampRgbaArray([y,_,p,l]),r[n]}},{key:"keywordToRgba",value:function(n){if(e.enabled&&e(t.isKeyword(n),"invalid keyword: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];t._canvasContext||t._initializeColorTesting(),t._canvasContext.fillStyle=n,t._canvasContext.fill();var i=t._canvasContext.getImageData(0,0,1,1).data;return r[n]=[i[0],i[1],i[2],i[3]/255],t._clampRgbaArray(r[n])}},{key:"parseRgb",value:function(n){if(e.enabled&&e(t.isRgb(n)||t.isRgba(n),"invalid rgb: ".concat(n)),Object.prototype.hasOwnProperty.call(r,n))return r[n];var i=t._parseToArguments(n);return 3===i.length&&i.push("1"),r[n]=t._clampRgbaArray(i.map((function(t,e){return 3!==e?t.includes("%")?parseFloat(t.replace("%",""))/100*255:parseFloat(t):t.includes("%")?parseFloat(t.replace("%",""))/100:parseFloat(t)}))),r[n]}},{key:"formatRgbString",value:function(t,e,n,i){return 1===i?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(i,")")}},{key:"_clampRgbaArray",value:function(t){return t[0]=i.clamp(i.roundSymmetric(t[0]),0,255),t[1]=i.clamp(i.roundSymmetric(t[1]),0,255),t[2]=i.clamp(i.roundSymmetric(t[2]),0,255),t[3]=i.clamp(t[3],0,1),t}},{key:"_parseToArguments",value:function(t){return t.substring(t.indexOf("(")+1,t.indexOf(")")).split(",").map((function(t){return t.trim()}))}},{key:"_initializeColorTesting",value:function(){t._testElement=new n;var e=new n({type:"canvas"});t._canvasContext=e.element.getContext("2d"),t._canvasContext.rect(0,0,1,1)}}]),t}();return a._testElement,a._canvasContext,a})),r("SIM_CORE/core-internal/Throttle",["require","SIM_CORE/util/assert"],(function(t){"use strict";var e=t("SIM_CORE/util/assert");return function(){function t(){v(this,t)}return g(t,null,[{key:"throttle",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e("function"==typeof t,"invalid listener: ".concat(t)),e("number"==typeof n&&n>=0,"invalid waitTime: ".concat(n));var r=!1,o=!1,a=function e(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];r||o?i&&r&&!o&&(o=!0,setTimeout((function(){o=!1,e.apply(void 0,s)}),2*n)):(r=!0,t.apply(void 0,s),setTimeout((function(){r=!1}),n))};return a}}]),t}()})),r("SIM_CORE/core-internal/Display",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/StandardSimQueryParameters","SIM_CORE/core-internal/Throttle","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/StandardSimQueryParameters"),o=t("SIM_CORE/core-internal/Throttle"),a=t("SIM_CORE/util/Util"),c=function(t){s(l,t);var c=i(l);function l(t){var n;return v(this,l),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(!t||!t.style,"Display sets style."),e(!t||!t.type,"Display sets type."),e(!t||!t.text,"Display should not have text"),e(!(t&&t.id&&t.class&&t.attributes),"Display sets attributes"),t=Object.assign({type:"div",style:{height:"100%",width:"100%",fontFamily:"Arial, sans-serif"},id:"display"},t),(n=c.call(this,t))._eventListeners={resize:[],frame:[]},n}return g(l,[{key:"initiate",value:function(){var t=this,e=document.getElementsByTagName("body")[0];e.appendChild(this.element),this._parent=e,n.addElementStyles(e,{maxWidth:"100%",maxHeight:"100%",height:"100%",width:"100%",padding:0,margin:0,overflow:"hidden",position:"fixed",fontSmoothing:"antialiased",touchAction:"none",contentZooming:"none",overflowScrolling:"touch",tapHighlightColor:"rgba( 0, 0, 0, 0 )",touchCallout:"none",userDrag:"none"}),window.onresize=o.throttle((function(){l.isMobile&&(window.scrollTo(0,0),t.element.style.height=window.innerHeight+"px",t.element.style.width=window.innerWidth+"px"),t._trigger("resize",window.innerWidth,window.innerHeight)}),r.resizeThrottle,!0),window.onresize();var i=Date.now();return l._requestAnimationFrame((function e(){var n=Date.now(),r=a.convertFrom(n-i,a.MILLI);i=n,t._trigger("frame",r),l._requestAnimationFrame(e)})),this}},{key:"on",value:function(t,n){e("resize"===t||"frame"===t,"invalid eventName: ".concat(t)),e("function"==typeof n,"invalid listener: ".concat(n)),this._eventListeners[t].push(n),"resize"===t&&n(window.innerWidth,window.innerHeight)}},{key:"off",value:function(t,n){e("resize"===t||"frame"===t,"invalid eventName: ".concat(t)),e(this._eventListeners[t].includes(n),"invalid listener: ".concat(n)),a.arrayRemove(this._eventListeners[t],n)}},{key:"_trigger",value:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e("resize"===t||"frame"===t,"invalid eventName: ".concat(t)),this._eventListeners[t].forEach((function(t){t.apply(void 0,i)}))}}]),l}(n);return c._requestAnimationFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}).bind(window),c.canUsePointerEvents=!!(window.navigator&&window.navigator.pointerEnabled||window.PointerEvent),c.canUseMSPointerEvents=!(!window.navigator||!window.navigator.msPointerEnabled),c.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent||navigator.vendor||window.opera),c})),r("SIM_CORE/scenery/ScreenView",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/core-internal/DOMObject"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),r=function(t){s(a,t);var r=i(a);function a(t){var i;return v(this,a),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(!t||!t.style,"ScreenView sets style."),e(!t||!t.type,"ScreenView sets type."),e(!t||!t.text,"ScreenView should not have text"),e(!(t&&t.id&&t.class&&t.attributes),"ScreenView sets attributes"),(t=Object.assign({layoutBounds:new n(0,0,1024,618)},t)).type="svg",i=r.call(this,t),a._instances.push(o(i)),i.layoutBounds=Object.freeze(t.layoutBounds),i.layoutScale,i}return g(a,[{key:"addChild",value:function(t){return l(h(a.prototype),"addChild",this).call(this,t),t.layout(this.layoutScale),this}},{key:"layout",value:function(t,e){var n=this;this.layoutScale=Math.min(t/this.layoutBounds.width,e/this.layoutBounds.height),this.style.width="".concat(this.layoutScale*this.layoutBounds.width,"px"),this.style.height="".concat(this.layoutScale*this.layoutBounds.height,"px"),this.children.forEach((function(t){t.layout(n.layoutScale)}))}}],[{key:"enableDevBorder",value:function(){a._instances.forEach((function(t){t.style.border="2px solid red"}))}}]),a}(t("SIM_CORE/core-internal/DOMObject"));return r._instances=[],r})),r("SIM_CORE/scenery/Node",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/ScreenView","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),r=t("SIM_CORE/core-internal/DOMObject"),o=t("SIM_CORE/scenery/ScreenView"),a=t("SIM_CORE/util/Util"),c=t("SIM_CORE/util/Vector"),u=function(t){s(d,t);var u=i(d);function d(t){var i;v(this,d),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(!t||!t.style||!t.style.position,"Node sets position"),e(!t||!t.style||!t.style.transformOrigin,"Node sets transformOrigin"),e(!t||!t.type||r.SVG_TYPES.includes(t.type),"Must be an SVG sub-type.");var o={type:"g",children:[],cursor:null,visible:!0,opacity:1,maxWidth:null,maxHeight:null,translation:null,rotation:0,scale:1,topLeft:null,topCenter:null,topRight:null,centerLeft:null,center:null,centerRight:null,bottomLeft:null,bottomCenter:null,bottomRight:null,left:null,right:null,top:null,bottom:null,centerX:null,centerY:null,width:null,height:null};return(t=Object.assign({},o,{},t)).style=Object.assign({},o.style,{},t.style),(i=u.call(this,t))._visible,i._opacity,i._cursor,i._maxWidth,i._maxHeight,i._rotation,i._scalar,i._bounds=n.ZERO.copy(),i.screenViewScale,t&&i.mutate(t),i}return g(d,[{key:"mutate",value:function(t){var n=this;e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),e(d.X_BOUNDS_MUTATORS.filter((function(e){return t[e]})).length<=1,"more than 1 x-mutator"),e(d.Y_BOUNDS_MUTATORS.filter((function(e){return t[e]})).length<=1,"more than 1 y-mutator"),(this.constructor.MUTATOR_KEYS||d.MUTATOR_KEYS).forEach((function(e){null!==t[e]&&void 0!==t[e]&&("function"==typeof n[e]?n[e](t[e]):n[e]=t[e])}))}},{key:"setLocation",value:function(t,n){return e("string"==typeof t,"invalid name: ".concat(t)),e(this._bounds.isFinite(),"Cannot set ".concat(t," when the Node has invalid (empty/NaN/infinite) bounds.")),["left","right","centerX"].includes(t)?(e(isFinite(n),"".concat(t," should be finite.")),this.translate(c.scratch.setXY(n-this[t],0))):["top","bottom","centerY"].includes(t)?(e(isFinite(n),"".concat(t," should be finite.")),this.translate(c.scratch.setXY(0,n-this[t]))):(e(n instanceof c&&n.isFinite(),"".concat(t," should be a finite Vector")),void this.translate(c.scratch.set(n).subtract(this[t])))}},{key:"scale",value:function(t){if(t instanceof c){e(t.isFinite(),"invalid scale: ".concat(t)),this._scalar?this._scalar instanceof c?this._scalar.componentMultiply(t):this._scalar=t.x===t.y?this._scalar*t.x:t.copy().multiply(this._scalar):this._scalar=t.x===t.y?t.x:t.copy();var n=this.width/2*(t.x-1),i=this.height/2*(t.y-1);(n||i)&&this._bounds.expand(n,i,n,i),this._updateMaxDimension(),this.layout(this.screenViewScale)}else this.scale(c.scratch.setXY(t,t))}},{key:"translate",value:function(t){e(t instanceof c&&t.isFinite(),"invalid translation: ".concat(t)),0===t.x&&0===t.y||(this._bounds.shift(t.x,t.y),this.parent instanceof d&&this.parent._recomputeAncestorBounds(),this.layout(this.screenViewScale))}},{key:"rotate",value:function(t){0!==t&&(this.rotation=this.rotation+t)}},{key:"_updateMaxDimension",value:function(){if(this.parent instanceof d&&this.parent._recomputeAncestorBounds(),this.maxHeight&&this.height>this.maxHeight||this.maxWidth&&this.width>this.maxWidth){var t=Math.min(this._maxWidth?this._maxWidth/this.width:1,this._maxHeight?this._maxHeight/this.height:1);this.scale(t)}}},{key:"layout",value:function(t){if(t){e.enabled&&(e(this.bounds.isFinite(),"bounds are not finite."),e(!this.parent||this._computeGlobalBounds(n.scratch).isFinite(),"globalBounds not finite."));var i=(this._scalar instanceof c?this._scalar.x:this._scalar).toFixed(10),r=(this._scalar instanceof c?this._scalar.y:this._scalar).toFixed(10),o=a.toDegrees(this.rotation).toFixed(10),s=(this._bounds.minX*t).toFixed(10),l=(this._bounds.minY*t).toFixed(10),u=(this.width*t).toFixed(10),h=(this.height*t).toFixed(10),d="translate( ".concat(s," ").concat(l," )")+" rotate( ".concat(o," ").concat(u/2," ").concat(h/2," )")+" scale( ".concat(i," ").concat(r," )");this.setAttribute("transform",d),this.screenViewScale=t,this.children.forEach((function(e){e.layout(t)}))}}},{key:"addChild",value:function(t){return e(t instanceof d,"invalid child: ".concat(t)),l(h(d.prototype),"addChild",this).call(this,t),this._recomputeAncestorBounds(),this.layout(this.screenViewScale),this}},{key:"removeChild",value:function(t){return e(t instanceof d,"invalid child: ".concat(t)),l(h(d.prototype),"removeChild",this).call(this,t),this._recomputeAncestorBounds(),this.layout(this.screenViewScale),this}},{key:"_recomputeAncestorBounds",value:function(){var t=n.scratch.set(n.ZERO);this.children.forEach((function(e){t.includeBounds(e.bounds)}));var e=this.children.length&&(t.minX<0||t.minY<0);e&&this.children.forEach((function(e){e.bounds.shift(Math.max(-t.minX,0),Math.max(-t.minY,0))}));var i=t.shift(this.left,this.top);this._bounds.set(i.includePoint(e?this.bottomRight:this.topLeft)),!this.parent||this.parent instanceof o||this.parent._recomputeAncestorBounds()}},{key:"_computeGlobalBounds",value:function(t){if(this.parent instanceof o)return this._bounds;var e=this.parent._computeGlobalBounds(t);return e&&e.isFinite()?t.setAll(e.minX+this.left,e.minY+this.top,e.minX+this.left+this.width,e.minY+this.top+this.height):void 0}},{key:"bounds",get:function(){return this._bounds}},{key:"parentBounds",get:function(){return this._bounds}},{key:"globalBounds",get:function(){return this._computeGlobalBounds(n.ZERO.copy())}},{key:"localBounds",get:function(){return this._bounds.copy().shift(-this.left,-this.top)}},{key:"topLeft",get:function(){return this._bounds.bottomLeft},set:function(t){this.setLocation("topLeft",t)}},{key:"topCenter",get:function(){return this._bounds.bottomCenter},set:function(t){this.setLocation("topCenter",t)}},{key:"topRight",get:function(){return this._bounds.bottomRight},set:function(t){this.setLocation("topRight",t)}},{key:"centerLeft",get:function(){return this._bounds.centerLeft},set:function(t){this.setLocation("centerLeft",t)}},{key:"center",get:function(){return this._bounds.center},set:function(t){this.setLocation("center",t)}},{key:"centerX",get:function(){return this._bounds.center.x},set:function(t){this.setLocation("centerX",t)}},{key:"centerY",get:function(){return this._bounds.center.y},set:function(t){this.setLocation("centerY",t)}},{key:"centerRight",get:function(){return this._bounds.centerRight},set:function(t){this.setLocation("centerRight",t)}},{key:"bottomLeft",get:function(){return this._bounds.topLeft},set:function(t){this.setLocation("bottomLeft",t)}},{key:"bottomCenter",get:function(){return this._bounds.topCenter},set:function(t){this.setLocation("bottomCenter",t)}},{key:"bottomRight",get:function(){return this._bounds.topRight},set:function(t){this.setLocation("bottomRight",t)}},{key:"left",get:function(){return this._bounds.minX},set:function(t){this.setLocation("left",t)}},{key:"right",get:function(){return this._bounds.maxX},set:function(t){this.setLocation("right",t)}},{key:"top",get:function(){return this._bounds.minY},set:function(t){this.setLocation("top",t)}},{key:"bottom",get:function(){return this._bounds.maxY},set:function(t){this.setLocation("bottom",t)}},{key:"width",get:function(){return this._bounds.width},set:function(t){t!==this._bounds.width&&(e("number"==typeof t&&isFinite(t)&&t>=0,"invalid width: ".concat(t)),this._bounds.maxX=this._bounds.minX+t,this._updateMaxDimension())}},{key:"height",get:function(){return this._bounds.height},set:function(t){t!==this._bounds.height&&(e("number"==typeof t&&isFinite(t)&&t>=0,"invalid height: ".concat(t)),this._bounds.maxY=this._bounds.minY+t,this._updateMaxDimension())}},{key:"visible",get:function(){return this._visible},set:function(t){t!==this._visible&&(e("boolean"==typeof t,"invaid visible: ".concat(t)),this._visible=t,this.style.opacity=this._visible?this._opacity:0)}},{key:"opacity",get:function(){return this._opacity},set:function(t){t!==this._opacity&&(e("number"==typeof t&&t>=0&&t<=1,"invaid opacity: ".concat(t)),this._opacity=t,this.style.opacity=this._visible?this._opacity:0)}},{key:"cursor",get:function(){return this._cursor},set:function(t){t!==this._cursor&&(e("string"==typeof t||null===t,"invalid cursor: ".concat(t)),this._cursor="auto"===t?null:t,this.style.cursor=this._cursor)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){e(!t||"number"==typeof t&&t>0,"invalid maxWidth: ".concat(t)),this._maxWidth!==t&&(this._maxWidth=t,this._updateMaxDimension())}},{key:"maxHeight",get:function(){return this._maxHeight},set:function(t){e(!t||"number"==typeof t&&t>0,"invalid maxHeight: ".concat(t)),this._maxHeight!==t&&(this._maxHeight=t,this._updateMaxDimension())}},{key:"scalar",get:function(){return this._scalar},set:function(t){if(t instanceof c){if(this._scalar instanceof c&&this._scalar.equals(t))return;if(t.x===this._scalar&&t.y===this._scalar)return;var e=this._scalar instanceof c?this._scalar.x:this._scalar,n=this._scalar instanceof c?this._scalar.y:this._scalar;this.scale(c.scratch.setXY(t.x/e,t.y/n))}else this.scalar=c.scratch.setXY(t,t)}},{key:"translation",get:function(){return this.topLeft},set:function(t){e(t instanceof c,"invalid translation: ".concat(t)),this.translation.equals(t)||(this.topLeft=t)}},{key:"rotation",get:function(){return this._rotation},set:function(t){e("number"==typeof t&&isFinite(t),"invalid rotation: ".concat(t)),this._rotation!==t&&(this._rotation=t,this.layout(this.screenViewScale))}}]),d}(r);return u.X_BOUNDS_MUTATORS=["left","right","centerX","translation","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight"],u.Y_BOUNDS_MUTATORS=["top","bottom","centerY","translation","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight"],u.MUTATOR_KEYS=["children","opacity","cursor","visible","rotation","width","height","scale","maxWidth","maxHeight","translation","topLeft","topCenter","topRight","centerLeft","center","centerRight","bottomLeft","bottomCenter","bottomRight","left","right","centerX","top","bottom","centerY"],u})),r("SIM_CORE/scenery/events/HoverListener",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/Display","SIM_CORE/scenery/Node","SIM_CORE/core-internal/Throttle"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/Display"),i=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/core-internal/Throttle");return function(){function t(o,a){v(this,t),e(o instanceof i||o instanceof n,"invalid node: ".concat(o)),e(!a||Object.getPrototypeOf(a)===Object.prototype,"invalid options: ".concat(a)),a=Object.assign({enter:null,exit:null,movement:null,movementThrottle:10},a),e(!a.enter||"function"==typeof a.enter,"invalid enter: ".concat(a.enter)),e(!a.exit||"function"==typeof a.exit,"invalid exit: ".concat(a.exit)),e(!a.movement||"function"==typeof a.movement,"invalid movement: ".concat(a.movement)),e("number"==typeof a.movementThrottle,"invalid movementThrottle: ".concat(a.movementThrottle)),this._targetElement=o.element,this._enterListener=a.enter,this._exitListener=a.exit,this._movementListener=a.movement,this._enterHandler=this._enter.bind(this),this._exitHandler=this._exit.bind(this),this._movementHandler=r.throttle(this._move.bind(this),a.movementThrottle),this._initiate()}return g(t,[{key:"_initiate",value:function(){n.canUsePointerEvents?(this._enterListener&&this._targetElement.addEventListener("pointerover",this._enterHandler),this._exitListener&&this._targetElement.addEventListener("pointerout",this._exitHandler),this._movementListener&&this._targetElement.addEventListener("pointermove",this._movementHandler)):n.canUseMSPointerEvents?(this._enterListener&&this._targetElement.addEventListener("MSPointerOver",this._enterHandler),this._exitListener&&this._targetElement.addEventListener("MSPointerOut",this._exitHandler),this._movementListener&&this._targetElement.addEventListener("MSPointerMove",this._movementHandler)):(this._enterListener&&this._targetElement.addEventListener("mouseover",this._enterHandler),this._exitListener&&this._targetElement.addEventListener("mouseout",this._exitHandler),this._movementListener&&this._targetElement.addEventListener("mousemove",this._movementHandler),this._movementListener&&this._targetElement.addEventListener("touchmove",this._movementHandler))}},{key:"_enter",value:function(t){e(t,"invalid event: ".concat(t)),t.stopPropagation(),t.preventDefault(),this._enterListener(t)}},{key:"_exit",value:function(t){e(t,"invalid event: ".concat(t)),t.stopPropagation(),t.preventDefault(),this._exitListener(t)}},{key:"_move",value:function(t){e(t,"invalid event: ".concat(t)),t.stopPropagation(),t.preventDefault(),this._movementListener(t)}},{key:"dispose",value:function(){n.canUsePointerEvents?(this._enterListener&&this._targetElement.removeEventListener("pointerover",this._enterHandler),this._exitListener&&this._targetElement.removeEventListener("pointerout",this._exitHandler),this._movementListener&&this._targetElement.removeEventListener("pointermove",this._movementHandler)):n.canUseMSPointerEvents?(this._enterListener&&this._targetElement.removeEventListener("MSPointerOver",this._enterHandler),this._exitListener&&this._targetElement.removeEventListener("MSPointerOut",this._exitHandler),this._movementListener&&this._targetElement.removeEventListener("MSPointerMove",this._movementHandler)):(this._enterListener&&this._targetElement.removeEventListener("mouseover",this._enterHandler),this._exitListener&&this._targetElement.removeEventListener("mouseout",this._exitHandler),this._movementListener&&this._targetElement.removeEventListener("mousemove",this._movementHandler),this._movementListener&&this._targetElement.removeEventListener("touchmove",this._movementHandler)),this._enterHandler=null,this._exitHandler=null,this._movementHandler=null,this._enterListener=null,this._exitListener=null,this._movementListener=null}}]),t}()})),r("SIM_CORE/scenery/gradients/Gradient",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),i=1,r=function(){function t(r){v(this,t),e("linearGradient"===r||"radialGradient"===r,"invalid type: ".concat(r)),this.constructor===t&&e(!1,"Abstract class Gradient cannot be instantiated directly."),t._SVGElement||t._initializeGradientDOMObjects(),this._id="scenery-gradient-".concat(i++),this._definitionElement=new n({id:this._id,type:r}),this._lastStopPercentage=0,t._embededDefsElement.addChild(this._definitionElement)}return g(t,[{key:"addColorStop",value:function(t,i){e("string"==typeof t,"invalid color: ".concat(t)),e("number"==typeof i&&i>=0,"invalid percentage: ".concat(i)),e(0===this._lastStopPercentage||i>this._lastStopPercentage,"gradient stop percentages must be monotonically increasing"),this._lastStopPercentage=i;var r=new n({type:"stop",attributes:{offset:"".concat(i,"%"),"stop-color":t}});return this._definitionElement.addChild(r),this}},{key:"dispose",value:function(){this._definitionElement.dispose()}},{key:"SVGGradientString",get:function(){return"url(#".concat(this._id,")")}}],[{key:"_initializeGradientDOMObjects",value:function(){t._SVGElement=new n({type:"svg",id:"scenery-gradients",style:{opacity:0,position:"absolute",left:"-65535px",top:"-65535px",width:0,hegiht:0}}),document.body.appendChild(t._SVGElement.element),t._embededDefsElement=new n({type:"defs"}),t._SVGElement.addChild(t._embededDefsElement)}}]),t}();return r._SVGElement,r._embededDefsElement,r})),r("SIM_CORE/scenery/gradients/LinearGradient",["require","SIM_CORE/util/assert","SIM_CORE/scenery/gradients/Gradient"],(function(t){"use strict";var e=t("SIM_CORE/util/assert");return function(t){s(r,t);var n=i(r);function r(t,i,o,a){var s;return v(this,r),e("number"==typeof t&&t>=0&&t<=100,"invalid x1: ".concat(t)),e("number"==typeof i&&i>=0&&i<=100,"invalid x1: ".concat(i)),e("number"==typeof o&&o>=0&&o<=100,"invalid x2: ".concat(o)),e("number"==typeof a&&a>=0&&a<=100,"invalid y2: ".concat(a)),(s=n.call(this,"linearGradient"))._definitionElement.addAttributes({x1:"".concat(t,"%"),y1:"".concat(i,"%"),x2:"".concat(o,"%"),y2:"".concat(a,"%")}),s}return r}(t("SIM_CORE/scenery/gradients/Gradient"))})),r("SIM_CORE/util/ModelViewTransform",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),i=t("SIM_CORE/util/Vector"),r=function(t,e){return n.withPoints(t,e)};return function(){function t(i,r){v(this,t),e(i instanceof n,"invalid modelBounds: ".concat(i)),e(r instanceof n,"invalid viewBounds: ".concat(r)),e(i.isFinite()&&i.area>0,"modelBounds must be finite and have a positive area"),e(r.isFinite()&&r.area>0,"viewBounds must be finite and have a positive area"),this._xScale=i.width/r.width,this._yScale=-i.height/r.height,this._xViewOffset=r.minX-i.minX/this._xScale,this._yViewOffset=r.minY-i.maxY/this._yScale,this._xModelOffset=i.minX-r.minX*this._xScale,this._yModelOffset=i.minY-r.maxY*this._yScale}return g(t,[{key:"modelToViewX",value:function(t){return t/this._xScale+this._xViewOffset}},{key:"modelToViewY",value:function(t){return t/this._yScale+this._yViewOffset}},{key:"modelToViewXY",value:function(t,e){return new i(this.modelToViewX(t),this.modelToViewY(e))}},{key:"modelToViewDeltaX",value:function(t){return t/this._xScale}},{key:"modelToViewDeltaY",value:function(t){return t/this._yScale}},{key:"modelToViewDelta",value:function(t){return new i(this.modelToViewDeltaX(t.x),this.modelToViewDeltaY(t.y))}},{key:"modelToViewPoint",value:function(t){return new i(this.modelToViewX(t.x),this.modelToViewY(t.y))}},{key:"modelToViewBounds",value:function(t){return r(this.modelToViewPoint(t.topLeft),this.modelToViewPoint(t.bottomRight))}},{key:"modelToViewShape",value:function(t){return t.copy().transform(this,"modelToView")}},{key:"viewToModelX",value:function(t){return t*this._xScale+this._xModelOffset}},{key:"viewToModelY",value:function(t){return t*this._yScale+this._yModelOffset}},{key:"viewToModelXY",value:function(t,e){return new i(this.viewToModelX(t),this.viewToModelY(e))}},{key:"viewToModelDeltaX",value:function(t){return t*this._xScale}},{key:"viewToModelDeltaY",value:function(t){return t*this._yScale}},{key:"viewToModelDelta",value:function(t){return new i(this.viewToModelDeltaX(t.x),this.viewToModelDeltaY(t.y))}},{key:"viewToModelPoint",value:function(t){return new i(this.viewToModelX(t.x),this.viewToModelY(t.y))}},{key:"viewToModelBounds",value:function(t){return r(this.viewToModelPoint(t.topLeft),this.viewToModelPoint(t.bottomRight))}},{key:"viewToModelShape",value:function(t){return t.copy().transform(this,"viewToModel")}}]),t}()})),r("SIM_CORE/util/Shape",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/util/ModelViewTransform","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),i=t("SIM_CORE/util/ModelViewTransform"),r=t("SIM_CORE/util/Vector");function o(t){for(;t<0;)t+=2*Math.PI;for(;t>2*Math.PI;)t-=2*Math.PI;return t}function a(t,e,n){return n?t>=e?e:e-2*Math.PI:e>=t?e:e+2*Math.PI}return function(){function t(e,n,i,r,o){v(this,t),this._subpaths=e||[],this._firstPoint=i||null,this.currentPoint=n||null,this.bounds=r||null,this.isClosed=o||!1}return g(t,[{key:"moveTo",value:function(t,n){return e("number"==typeof t&&isFinite(t),"invalid x: ".concat(t)),e("number"==typeof n&&isFinite(n),"invalid y: ".concat(n)),this._subpaths.push({cmd:"M",args:[t,n]}),this.currentPoint=this.currentPoint?this.currentPoint.setX(t).setY(n):new r(t,n),this}},{key:"moveToPoint",value:function(t){return this.moveTo(t.x,t.y)}},{key:"moveToRelative",value:function(t,n){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.moveTo(this.currentPoint.x+t,this.currentPoint.y+n)}},{key:"moveToPointRelative",value:function(t){return this.moveToRelative(t.x,t.y)}},{key:"lineTo",value:function(t,i){return e("number"==typeof t&&isFinite(t),"invalid x: ".concat(t)),e("number"==typeof i&&isFinite(i),"invalid y: ".concat(i)),e(!this.isClosed,"cannot add lines to a closed shape"),e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this._firstPoint||(this._firstPoint=this.currentPoint.copy()),this.bounds||(this.bounds=n.withPoints(this.currentPoint,this.currentPoint)),this.bounds.includePoint(this.currentPoint),this._subpaths.push({cmd:"L",args:[t,i]}),this.currentPoint.setX(t).setY(i),this.bounds.includePoint(this.currentPoint),this}},{key:"lineToPoint",value:function(t){return this.lineTo(t.x,t.y)}},{key:"lineToRelative",value:function(t,n){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.lineTo(this.currentPoint.x+t,this.currentPoint.y+n)}},{key:"lineToPointRelative",value:function(t){return this.lineToRelative(t.x,t.y)}},{key:"horizontalLineTo",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.lineTo(t,this.currentPoint.y)}},{key:"horizontalLineToRelative",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.horizontalLineTo(this.currentPoint.x+t)}},{key:"verticalLineTo",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.lineTo(this.currentPoint.x,t)}},{key:"verticalLineToRelative",value:function(t){return e(this.currentPoint,"Unknown current position. Make sure to call Shape.moveTo() to set the first point"),this.verticalLineTo(this.currentPoint.y+t)}},{key:"close",value:function(){return e(this._firstPoint,"cannot close a Shape that has no drawing points."),e(!this.isClosed,"cannot close a Shape twice."),this._subpaths.push({cmd:"Z"}),this.currentPoint.setX(this._firstPoint.x).setY(this._firstPoint.y),this.bounds.includePoint(this._firstPoint),this.isClosed=!0,this}},{key:"arc",value:function(t,i,s,c){var l=this,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e("number"==typeof i&&isFinite(i)&&i>=0,"invalid radius: ".concat(i)),e("number"==typeof s&&isFinite(s),"invalid startAngle: ".concat(s)),e("number"==typeof c&&isFinite(c),"invalid endAngle: ".concat(c)),e("boolean"==typeof u,"invalid clockwise: ".concat(u)),e(!this.isClosed,"Cannot draw arc on a closed shape"),s=o(s),c=a(s,o(c),u);var h=new r(0,i),d=t.copy().add(h.setAngle(c)),y=t.copy().add(h.setAngle(s)),_=u?s-c:c-s;this.bounds||(this.bounds=n.withPoints(y,y)),this._firstPoint||(this.moveToPoint(y),this._firstPoint=y.copy()),this.currentPoint.equals(y)||this.lineToPoint(y);var p=_>Math.PI?1:0,f=u?0:1;this._subpaths.push({cmd:"A",args:[i,i,0,p,f,d.x,d.y]}),this.currentPoint.set(d),this.bounds.includePoint(y),this.bounds.includePoint(d);var O=function(e){o(u?s-e:c-e)<=_&&l.bounds.includePoint(t.copy().add(h.setAngle(e)))};return O(0),O(Math.PI/2),O(Math.PI),O(3*Math.PI/2),this}},{key:"polygon",value:function(t){e(!this.isClosed,"Shape has already been closed");var n=t.length;if(n>0){this.moveToPoint(t[0]);for(var i=1;i<n;i++)this.lineToPoint(t[i])}return this.close()}},{key:"getSVGPath",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.ZERO,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i="";return this._subpaths.forEach((function(r){if("M"===r.cmd||"L"===r.cmd){var o=r.args.slice();o[0]=(o[0]+t.x)*n,o[1]=(o[1]+t.y)*n,i+="".concat(r.cmd," ").concat(o.map((function(t){return parseFloat(t.toFixed(10))})).join(" ")," ")}else if("A"===r.cmd){var a=r.args.slice();a[0]=a[0]*n,a[1]=a[1]*n,a[5]=(a[5]+t.x)*n,a[6]=(a[6]+t.y)*n,i+="".concat(r.cmd," ").concat(a.map((function(t){return parseFloat(t.toFixed(10))})).join(" ")," ")}else"Z"===r.cmd?i+="Z ":e(!1,"unrecognized command: ".concat(r.cmd))})),i.trim()}},{key:"copy",value:function(){return new t(this._subpaths.map((function(t){return{cmd:t.cmd,args:t.args?t.args.slice():null}})),this.currentPoint?this.currentPoint.copy():null,this._firstPoint?this._firstPoint.copy():null,this.bounds?this.bounds.copy():null,this.isClosed)}},{key:"transform",value:function(t,n){return e(t instanceof i,"invalid modelViewTransform: ".concat(t)),e(["modelToView","viewToModel"].includes(n),"invalid prefix: ".concat(n)),this._subpaths.forEach((function(e){"M"===e.cmd||"L"===e.cmd?(e.args[0]=t[n+"X"](e.args[0]),e.args[1]=t[n+"Y"](e.args[1])):"A"===e.cmd&&(e.args[0]=Math.abs(t[n+"DeltaX"](e.args[0])),e.args[1]=Math.abs(t[n+"DeltaY"](e.args[1])),e.args[5]=t[n+"X"](e.args[5]),e.args[6]=t[n+"Y"](e.args[6]))})),this.currentPoint&&(this.currentPoint=t[n+"Point"](this.currentPoint)),this._firstPoint&&(this._firstPoint=t[n+"Point"](this._firstPoint)),this.bounds&&(this.bounds=t[n+"Bounds"](this.bounds)),this}}]),t}()})),r("SIM_CORE/scenery/Path",["require","SIM_CORE/util/assert","SIM_CORE/scenery/gradients/Gradient","SIM_CORE/scenery/Node","SIM_CORE/util/Shape","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/gradients/Gradient"),r=t("SIM_CORE/scenery/Node"),o=t("SIM_CORE/util/Shape"),a=t("SIM_CORE/util/Util"),c=function(t){s(u,t);var c=i(u);function u(t,n){var i;return v(this,u),e(!t||t instanceof o,"invalid shape: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.type,"path sets type"),(n=Object.assign({fill:null,stroke:null,strokeWidth:1,shapeRendering:"auto"},n)).type="path",n.shape=t,(i=c.call(this,n))._fill=n.fill,i._stroke=n.stroke,i._strokeWidth=n.strokeWidth,i._shapeRendering=n.shapeRendering,i._shape=n.shape,i}return g(u,[{key:"addChild",value:function(t){e(!1,"graphical SVG elements cannot have children.")}},{key:"layout",value:function(t){t&&(this._shape?(this.element.setAttribute("d",this._shape.getSVGPath(this._shape.bounds.bottomLeft.negate(),t)),this.element.setAttribute("stroke-width",this._strokeWidth*t)):this.element.setAttribute("d",""),l(h(u.prototype),"layout",this).call(this,t))}},{key:"fill",get:function(){return this._fill},set:function(t){t!==this._fill&&(e(!t||"string"==typeof t||t instanceof n,"invalid fill: ".concat(t)),this._fill=t,this.element.setAttribute("fill",t instanceof n?t.SVGGradientString:t))}},{key:"stroke",get:function(){return this._stroke},set:function(t){t!==this._stroke&&(e(!t||"string"==typeof t||t instanceof n,"invalid stroke: ".concat(t)),this._stroke=t,this.element.setAttribute("stroke",t instanceof n?t.SVGGradientString:t))}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){t!==this._strokeWidth&&(e("number"==typeof t,"invalid strokeWidth: ".concat(t)),this._strokeWidth=t,this.layout(this.screenViewScale))}},{key:"shapeRendering",get:function(){return this._shapeRendering},set:function(t){t!==this._shapeRendering&&(e(["auto","optimizeSpeed","crispEdges","geometricPrecision"].includes(t),"invalid shapeRendering: ".concat(t)),this._shapeRendering=t,this.element.setAttribute("shape-rendering",t))}},{key:"shape",get:function(){return this._shape},set:function(t){t!==this._shape&&(e(!t||t instanceof o,"invalid shape: ".concat(t)),this._shape=t?a.deepFreeze(t):null,this.width=t?t.bounds.width:0,this.height=t?t.bounds.height:0,t&&this._bounds.set(this._shape.bounds),this.parent instanceof r&&this.parent._recomputeAncestorBounds(),this.layout(this.screenViewScale))}}]),u}(r);return c.MUTATOR_KEYS=["shape","fill","stroke","strokeWidth","shapeRendering"].concat(d(r.MUTATOR_KEYS)),c})),r("SIM_CORE/scenery/events/PressListener",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/Display","SIM_CORE/scenery/Node","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/Display"),i=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/util/Vector"),o=1;return function(){function t(r,a){v(this,t),e(r instanceof i||r instanceof n,"invalid node: ".concat(r)),e(!a||Object.getPrototypeOf(a)===Object.prototype,"invalid options: ".concat(a)),a=Object.assign({press:null,release:null},a),e(!a.press||"function"==typeof a.press,"invalid press: ".concat(a.press)),e(!a.release||"function"==typeof a.release,"invalid release: ".concat(a.release)),this._targetNode=r,this._pressListener=a.press,this._releaseListener=a.release,this._pressHandler=this._press.bind(this),this._releaseHandler=this._release.bind(this),this._id=o++,this._initiate()}return g(t,[{key:"_initiate",value:function(){n.canUsePointerEvents?(this._pressListener&&this._targetNode.element.addEventListener("pointerdown",this._pressHandler),this._releaseListener&&this._targetNode.element.addEventListener("pointerup",this._releaseHandler)):n.canUseMSPointerEvents?(this._pressListener&&this._targetNode.element.addEventListener("MSPointerDown",this._pressHandler),this._releaseListener&&this._targetNode.element.addEventListener("MSPointerUp",this._releaseHandler)):(this._pressListener&&this._targetNode.element.addEventListener("touchstart",this._pressHandler),this._pressListener&&this._targetNode.element.addEventListener("mousedown",this._pressHandler),this._releaseListener&&this._targetNode.element.addEventListener("touchend",this._releaseHandler),this._releaseListener&&this._targetNode.element.addEventListener("mouseup",this._releaseHandler))}},{key:"_press",value:function(t){e(t,"invalid event: ".concat(t)),void 0===t["pressHandled"+this._id]&&(t["pressHandled"+this._id]=!0,t.preventDefault(),this._pressListener(this._getEventParentLocation(t),t))}},{key:"_release",value:function(t){e(t,"invalid event: ".concat(t)),void 0===t["releaseHandled"+this._id]&&(t["releaseHandled"+this._id]=!0,t.preventDefault(),this._releaseListener(t))}},{key:"_getEventWindowLocation",value:function(t){return new r(void 0!==t.clientX?t.clientX:t.touches[0].clientX,void 0!==t.clientY?t.clientY:t.touches[0].clientY)}},{key:"_getEventParentLocation",value:function(t){var e=this._targetNode.element.getBoundingClientRect(),n=this._getEventWindowLocation(t).subtractXY(e.x,e.y).divide(this._targetNode.screenViewScale);return this._targetNode.topLeft.add(n)}},{key:"dispose",value:function(){n.canUsePointerEvents?(this._pressListener&&this._targetNode.element.removeEventListener("pointerdown",this._pressHandler),this._releaseListener&&this._targetNode.element.removeEventListener("pointerup",this._releaseHandler)):n.canUseMSPointerEvents?(this._pressListener&&this._targetNode.element.removeEventListener("MSPointerDown",this._pressHandler),this._releaseListener&&this._targetNode.element.removeEventListener("MSPointerUp",this._releaseHandler)):(this._pressListener&&this._targetNode.element.removeEventListener("touchstart",this._pressHandler),this._pressListener&&this._targetNode.element.removeEventListener("mousedown",this._pressHandler),this._releaseListener&&this._targetNode.element.removeEventListener("touchend",this._releaseHandler),this._releaseListener&&this._targetNode.element.removeEventListener("mouseup",this._releaseHandler)),this._pressHandler=null,this._releaseHandler=null,this._pressListener=null,this._releaseListener=null}}]),t}()})),r("SIM_CORE/scenery/buttons/Button",["require","SIM_CORE/util/assert","SIM_CORE/util/ColorWheel","SIM_CORE/util/Enum","SIM_CORE/scenery/events/HoverListener","SIM_CORE/scenery/gradients/LinearGradient","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/scenery/events/PressListener","SIM_CORE/util/Property","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/ColorWheel"),r=t("SIM_CORE/util/Enum"),a=t("SIM_CORE/scenery/events/HoverListener"),c=t("SIM_CORE/scenery/gradients/LinearGradient"),u=t("SIM_CORE/scenery/Node"),d=t("SIM_CORE/scenery/Path"),y=t("SIM_CORE/scenery/events/PressListener"),_=t("SIM_CORE/util/Property"),p=t("SIM_CORE/util/Vector"),f={},O=function(t){s(O,t);var r=i(O);function O(t,n,i){var s;return v(this,O),e(t instanceof d,"invalid background: ".concat(t)),e(n instanceof u,"invalid content: ".concat(n)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),(i=Object.assign({xAlign:"center",yAlign:"center",cursor:"pointer"},i)).children=[t,n],(s=r.call(this,i))._xAlign=i.xAlign,s._yAlign=i.yAlign,s.interactionStateProperty=new _(O.interactionStates.IDLE,{validValues:O.interactionStates.MEMBERS}),s.idleFill,s.hoverFill,s.pressedFill,s.background=t,s.content=n,s.updatePositioning(),s._pressListener=new y(o(s),{press:function(){s.interactionStateProperty.value=O.interactionStates.PRESSED},release:function(){s.interactionStateProperty.value=O.interactionStates.RELEASED,s.interactionStateProperty.value=O.interactionStates.HOVER}}),s._hoverListener=new a(o(s),{enter:function(){s.interactionStateProperty.value=O.interactionStates.HOVER},exit:function(){s.interactionStateProperty.value=O.interactionStates.IDLE}}),s}return g(O,[{key:"dispose",value:function(){this.interactionStateProperty.dispose(),this._pressListener.dispose(),this._hoverListener.dispose(),l(h(O.prototype),"dispose",this).call(this)}},{key:"updatePositioning",value:function(){this.background.topLeft=p.ZERO;var t="center"===this._xAlign?"centerX":this._xAlign,e="center"===this._yAlign?"centerY":this._yAlign;this.content[t]=this.background[t],this.content[e]=this.background[e]}}],[{key:"apply3DGradients",value:function(t,i){if(e(!t.idleFill&&!t.hoverFill&&!t.pressedFill,"Button already has 3D gradients applied"),Object.hasOwnProperty.call(f,i))t.idleFill=f[i].idleFill,t.hoverFill=f[i].hoverFill,t.pressedFill=f[i].pressedFill;else{t.idleFill=new c(0,13,100,78),t.hoverFill=new c(0,13,100,78),t.pressedFill=new c(0,13,100,78);var r=n.shade(i,.25),o=n.shade(i,-.15);[[.75,0],[.5,20],[.3,40],[0,59],[-.03,69],[-.06,75],[-.11,81],[-.15,87],[-.22,92.5],[-.26,95.5],[-.3,100]].forEach((function(e){t.idleFill.addColorStop(n.shade(i,e[0]),e[1]),t.hoverFill.addColorStop(n.shade(r,e[0]),e[1]),t.pressedFill.addColorStop(n.shade(o,e[0]),e[1])})),f[i]={idleFill:t.idleFill,hoverFill:t.hoverFill,pressedFill:t.pressedFill}}t.interactionStateProperty.link((function(e){e===O.interactionStates.IDLE&&(t.background.fill=t.idleFill),e===O.interactionStates.HOVER&&(t.background.fill=t.hoverFill),e===O.interactionStates.PRESSED&&(t.background.fill=t.pressedFill)}))}}]),O}(u);return O.interactionStates=new r(["IDLE","HOVER","PRESSED","RELEASED"]),O})),r("SIM_CORE/scenery/Rectangle",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/util/Bounds"),a=t("SIM_CORE/scenery/Path"),c=t("SIM_CORE/util/Shape"),u=t("SIM_CORE/util/Vector"),y=function(t,e){return u.scratch.setXY(t,e)},_=function(t){s(u,t);var a=i(u);function u(t,i,r){var s;return v(this,u),n("number"==typeof t&&t>=0,"invalid width: ".concat(t)),n("number"==typeof i&&i>=0,"invalid height: ".concat(i)),n(!r||Object.getPrototypeOf(r)===Object.prototype,"invalid options: ".concat(r)),n(!r||!r.attributes,"Rectangle sets attributes"),n(!r||!r.width,"width should be provided in the first argument"),n(!r||!r.height,"height should be provided in the first argument"),(r=Object.assign({cornerRadius:0},r)).width=t,r.height=i,(s=a.call(this,null,r))._cornerRadius=r.cornerRadius,e(h(u.prototype),"shape",u._computeRectangleShape(s.bounds,s._cornerRadius),o(s),!0),s}return g(u,[{key:"cornerRadius",get:function(){return this._cornerRadius},set:function(t){this._cornerRadius=t,e(h(u.prototype),"shape",u._computeRectangleShape(this.bounds,this._cornerRadius),this,!0)}},{key:"width",get:function(){return l(h(u.prototype),"width",this)},set:function(t){t!==this._bounds.width&&(e(h(u.prototype),"width",t,this,!0),e(h(u.prototype),"shape",u._computeRectangleShape(this.bounds,this._cornerRadius),this,!0))}},{key:"height",get:function(){return l(h(u.prototype),"height",this)},set:function(t){t!==this._bounds.height&&(e(h(u.prototype),"height",t,this,!0),e(h(u.prototype),"shape",u._computeRectangleShape(this.bounds,this._cornerRadius),this,!0))}},{key:"shape",set:function(t){n(!1,"Rectangle sets shape")}}],[{key:"_computeRectangleShape",value:function(t,e){var n=Math.min(t.width/2,t.height/2);return(e=Math.min(n,e))?(new c).arc(y(t.minX+e,t.minY+e),e,Math.PI,-Math.PI/2).horizontalLineTo(t.maxX-e).arc(y(t.maxX-e,t.minY+e),e,-Math.PI/2,0).verticalLineTo(t.maxY-e).arc(y(t.maxX-e,t.maxY-e),e,0,Math.PI/2).horizontalLineTo(t.minX+e).arc(y(t.minX+e,t.maxY-e),e,Math.PI/2,Math.PI).close():(new c).moveTo(t.minX,t.minY).horizontalLineTo(t.maxX).verticalLineTo(t.maxY).horizontalLineTo(t.minX).close()}},{key:"withRect",value:function(t,e,n,i,r){return new u(n,i,Object.assign({},r,{left:t,top:e}))}},{key:"withBounds",value:function(t,e){return n(t instanceof r,"invalid bounds: ".concat(t)),u.withRect(t.minX,t.minY,t.width,t.height,e)}}]),u}(a);return _.MUTATOR_KEYS=["cornerRadius"].concat(d(a.MUTATOR_KEYS)),_})),r("SIM_CORE/scenery/buttons/RadioButton",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/scenery/buttons/Button","SIM_CORE/util/ColorWheel","SIM_CORE/util/Enum","SIM_CORE/scenery/Node","SIM_CORE/scenery/Rectangle"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),r=t("SIM_CORE/scenery/buttons/Button"),a=t("SIM_CORE/util/ColorWheel"),c=t("SIM_CORE/util/Enum"),l=t("SIM_CORE/scenery/Node"),u=t("SIM_CORE/scenery/Rectangle");return function(t){s(d,t);var h=i(d);function d(t,i,r){var s;v(this,d),e(t instanceof c.Member,"invalid enumValue: ".concat(t)),e(i instanceof l,"invalid contentNode: ".concat(i)),e(!r||Object.getPrototypeOf(r)===Object.prototype,"invalid options: ".concat(r)),r=Object.assign({xMargin:8,yMargin:8,selectedButtonOpacity:1,unselectedButtonOpacity:.35,selectedContentOpacity:1,unselectedContentOpacity:.5,unselectedHoverButtonOpacity:.8,unselectedHoverContentOpacity:.8,selectedButtonStroke:"#419AC9",unselectedButtonStroke:"#323232",baseColor:"white",unselectedStrokeWidth:1,selectedStrokeWidth:1.5,cornerRadius:4},r);var y=n.scratch.set(i.bounds).expand(r.xMargin,r.yMargin,r.xMargin,r.yMargin),_=u.withBounds(y,{cornerRadius:r.cornerRadius});return(s=h.call(this,_,i,r)).enumValue=t,s._selectedButtonOpacity=r.selectedButtonOpacity,s._unselectedButtonOpacity=r.unselectedButtonOpacity,s._selectedContentOpacity=r.selectedContentOpacity,s._unselectedContentOpacity=r.unselectedContentOpacity,s._unselectedHoverButtonOpacity=r.unselectedHoverButtonOpacity,s._unselectedHoverContentOpacity=r.unselectedHoverContentOpacity,s._selectedButtonStroke=r.selectedButtonStroke,s._unselectedButtonStroke=r.unselectedButtonStroke,s._unselectedStrokeWidth=r.unselectedStrokeWidth,s._selectedStrokeWidth=r.selectedStrokeWidth,s._idleFill=r.baseColor,s._hoverFill=a.shade(r.baseColor,.4),s._pressedFill=a.shade(r.baseColor,-.4),s._selected=!1,s.interactionStateProperty.link(s._changeRadioButtonAppearance.bind(o(s))),s}return g(d,[{key:"_changeRadioButtonAppearance",value:function(t){e(r.interactionStates.includes(t),"invalid interactionState: ".concat(t)),this.background.stroke=this._selected?this._selectedButtonStroke:this._unselectedButtonStroke,this.background.strokeWidth=this._selected?this._selectedStrokeWidth:this._unselectedStrokeWidth,t===r.interactionStates.IDLE&&(this.background.opacity=this._selected?this._selectedButtonOpacity:this._unselectedButtonOpacity,this.content.opacity=this._selected?this._selectedContentOpacity:this._unselectedContentOpacity,this.background.fill=this._idleFill,this.cursor="pointer"),t===r.interactionStates.HOVER&&(this.background.opacity=this._selected?this._selectedButtonOpacity:this._unselectedHoverButtonOpacity,this.content.opacity=this._selected?this._selectedContentOpacity:this._unselectedHoverContentOpacity,this.background.fill=this._hoverFill,this.cursor=this._selected?null:"pointer"),t===r.interactionStates.PRESSED&&(this.background.opacity=this._selected?this._selectedButtonOpacity:this._unselectedButtonOpacity,this.content.opacity=this._selected?this._selectedContentOpacity:this._unselectedContentOpacity,this.background.fill=this._selected?this._idleFill:this._pressedFill,this.cursor=this._selected?null:"pointer")}},{key:"select",value:function(){this._selected=!0,this._changeRadioButtonAppearance(this.interactionStateProperty.value)}},{key:"unselect",value:function(){this._selected=!1,this._changeRadioButtonAppearance(this.interactionStateProperty.value)}}]),d}(r)})),r("SIM_CORE/scenery/FlexBox",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Node"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/Node"),r=function(t){s(o,t);var r=i(o);function o(t,n){var i;return v(this,o),e("horizontal"===t||"vertical"===t,"invalid orientation: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.attributes,"FlexBox sets attributes"),e(!n||!n.width,"FlexBox sets width"),e(!n||!n.height,"FlexBox sets height"),n=Object.assign({spacing:0,align:"center"},n),(i=r.call(this,n))._orientation=t,i._isUpdatingLayout=!1,i._spacing,i._align,i.mutate(n),i}return g(o,[{key:"_updateLayout",value:function(){var t=this;if(this._align&&void 0!==this._spacing){this._isUpdatingLayout=!0;var e=0,n=0;this.children.forEach((function(t){t.width>e&&(e=t.width),t.height>n&&(n=t.height)}));var i=0,r="vertical"===this._orientation?{positionKey:"top",sizeKey:"height",alignmentKey:"center"===this._align?"centerX":this._align,alignmentValue:{left:0,right:e,center:e/2}}:{positionKey:"left",sizeKey:"width",alignmentKey:"center"===this._align?"centerY":this._align,alignmentValue:{top:0,bottom:n,center:n/2}};this.children.forEach((function(e){e[r.positionKey]=i,e[r.alignmentKey]=r.alignmentValue[t._align],i+=e[r.sizeKey]+t._spacing})),this._isUpdatingLayout=!1,l(h(o.prototype),"_recomputeAncestorBounds",this).call(this)}}},{key:"addChild",value:function(t){return e(t instanceof n,"invalid child: ".concat(t)),l(h(o.prototype),"addChild",this).call(this,t),this._updateLayout(),this}},{key:"_recomputeAncestorBounds",value:function(){if(!1===this._isUpdatingLayout)return this._updateLayout()}},{key:"orientation",get:function(){return this._orientation}},{key:"spacing",get:function(){return this._spacing},set:function(t){this._orientation&&t!==this._spacing&&(e("number"==typeof t&&t>=0,"invalid spacing: ".concat(t)),this._spacing=t,this._updateLayout())}},{key:"align",get:function(){return this._align},set:function(t){this._orientation&&t!==this._align&&(e("vertical"===this._orientation&&["left","center","right"].includes(t)||"horizontal"===this._orientation&&["top","center","bottom"].includes(t),"invalid align: ".concat(t)),this._align=t,this._updateLayout())}}]),o}(n);return r.MUTATOR_KEYS=["spacing","align"].concat(d(n.MUTATOR_KEYS)),r})),r("SIM_CORE/scenery/RadioButtonGroup",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/util/Enum","SIM_CORE/scenery/FlexBox","SIM_CORE/util/Multilink","SIM_CORE/util/Property","SIM_CORE/scenery/buttons/RadioButton","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/util/Enum"),o=t("SIM_CORE/scenery/FlexBox"),a=t("SIM_CORE/util/Multilink"),c=t("SIM_CORE/util/Property"),u=t("SIM_CORE/scenery/buttons/RadioButton"),d=t("SIM_CORE/util/Util");return function(t){s(y,t);var o=i(y);function y(t,i,s,l){var h;v(this,y),e("horizontal"===t||"vertical"===t,"invalid orientation: ".concat(t)),e(i instanceof c&&i.value instanceof r.Member,"invalid enumProperty: ".concat(i)),e(d.isArray(s)&&s.every((function(t){return t instanceof u})),"invalid radioButtons: ".concat(s)),e(!l||Object.getPrototypeOf(l)===Object.prototype,"invalid options: ".concat(l)),e(!l||!l.children,"RadioButtonGroup sets children"),(h=o.call(this,t,Object.assign({},l,{children:s})))._enumProperty,h._radioButtonMultilinks=[];var _=[];return s.forEach((function(t){e(!_.includes(t.enumValue),"duplicate: ".concat(t.enumValue)),_.push(t.enumValue),h._radioButtonMultilinks.push(new a([t.interactionStateProperty,i],(function(e,r){r!==t.enumValue&&e!==n.interactionStates.RELEASED||(s.forEach((function(t){t.unselect()})),t.select(),i.value=t.enumValue)})))})),h}return g(y,[{key:"dispose",value:function(){this._radioButtonMultilinks.forEach((function(t){return t.dispose()})),l(h(y.prototype),"dispose",this).call(this)}}]),y}(o)})),r("SIM_CORE/scenery/Arrow",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/scenery/Path"),o=t("SIM_CORE/util/Shape"),a=t("SIM_CORE/util/Vector"),c=function(t){s(c,t);var r=i(c);function c(t,e,i,o,s){var l;return v(this,c),n("number"==typeof t,"invalid tailX: ".concat(t)),n("number"==typeof e,"invalid tailY: ".concat(e)),n("number"==typeof i,"invalid tipX: ".concat(i)),n("number"==typeof o,"invalid tipY: ".concat(o)),n(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),n(!s||!s.attributes,"Arrow sets attributes"),s=Object.assign({headHeight:12,headWidth:12,tailWidth:3},s),(l=r.call(this,null,s))._headHeight=s.headHeight,l._headWidth=s.headWidth,l._tailWidth=s.tailWidth,l._tail=new a(t,e),l._tip=new a(i,o),l._updateArrowShape(),l}return g(c,[{key:"_updateArrowShape",value:function(){var t=this;if(this._tail&&this._tip&&this._headWidth&&this._headHeight&&this._tailWidth){if(this._tail.equalsEpsilon(this._tip))return e(h(c.prototype),"shape",null,this,!0);var n=this._tip.copy().subtract(this._tail),i=n.magnitude,r=Math.min(this._headHeight,.99*i),s=i?n.copy().normalize():a.ZERO,l=s.copy().rotate(Math.PI/2),u=new o,d=function(e,n){var i=s.x*e+l.x*n+t._tail.x,r=s.y*e+l.y*n+t._tail.y;u.currentPoint?u.lineTo(i,r):u.moveTo(i,r)};d(0,this._tailWidth/2),d(i-r,this._tailWidth/2),d(i-r,this._headWidth/2),d(i,0),d(i-r,-this._headWidth/2),d(i-r,-this._tailWidth/2),d(0,-this._tailWidth/2),d(0,this._tailWidth/2),u.close(),e(h(c.prototype),"shape",u,this,!0)}}},{key:"headHeight",get:function(){return this._headHeight},set:function(t){t!==this._headHeight&&(n("number"==typeof t,"invalid headHeight: ".concat(t)),this._headHeight=t,this._updateArrowShape())}},{key:"headWidth",get:function(){return this._headWidth},set:function(t){t!==this._headWidth&&(n("number"==typeof t,"invalid headWidth: ".concat(t)),this._headWidth=t,this._updateArrowShape())}},{key:"tailWidth",get:function(){return this._tailWidth},set:function(t){t!==this._tailWidth&&(n("number"==typeof t,"invalid tailWidth: ".concat(t)),this._tailWidth=t,this._updateArrowShape())}},{key:"tail",get:function(){return this._tail},set:function(t){t.equals(this._tail)||(n(t instanceof a,"invalid tail: ".concat(t)),this._tail.set(t),this._updateArrowShape())}},{key:"tip",get:function(){return this._tip},set:function(t){t.equals(this._tip)||(n(t instanceof a,"invalid tip: ".concat(t)),this._tip.set(t),this._updateArrowShape())}},{key:"shape",set:function(t){n(!1,"Arrow sets shape")}},{key:"tailX",set:function(t){t!==this.tail.x&&(n("number"==typeof t,"invalid tailX: ".concat(t)),this._tail.setX(t),this._updateArrowShape())}},{key:"tailY",set:function(t){t!==this.tail.x&&(n("number"==typeof t,"invalid tailY: ".concat(t)),this._tail.setY(t),this._updateArrowShape())}},{key:"tipX",set:function(t){t!==this.tip.x&&(n("number"==typeof t,"invalid tipX: ".concat(t)),this._tip.setX(t),this._updateArrowShape())}},{key:"tipY",set:function(t){t!==this.tip.x&&(n("number"==typeof t,"invalid tipY: ".concat(t)),this._tip.setY(t),this._updateArrowShape())}}],[{key:"withPoints",value:function(t,e,i){return n(t instanceof a,"invalid tail: ".concat(t)),n(e instanceof a,"invalid tip: ".concat(e)),new c(t.x,t.y,e.x,e.y,i)}}]),c}(r);return c.MUTATOR_KEYS=["headHeight","headWidth","tailWidth"].concat(d(r.MUTATOR_KEYS)),c})),r("SIM_CORE/scenery/Text",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/gradients/Gradient","SIM_CORE/scenery/Node"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/scenery/gradients/Gradient"),o=t("SIM_CORE/scenery/Node"),a=function(t){s(a,t);var o=i(a);function a(t,n){var i;return v(this,a),e("number"==typeof t||"string"==typeof t,"invalid text: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.attributes,"Text sets attributes"),e(!n||!n.width,"Text sets width"),e(!n||!n.height,"Text sets height"),e(!n||!n.type,"Text sets type"),e(!n||!n.text,"Text should be provided in the first argument"),(n=Object.assign({type:"text",fontStyle:"normal",fontWeight:"normal",fontSize:13.5,fontFamily:"Arial",fill:"#000000",stroke:null,strokeWidth:0,textRendering:"auto"},n)).text="".concat(t),(i=o.call(this,n))._fontStyle=n.fontStyle,i._fontWeight=n.fontWeight,i._fontSize=n.fontSize,i._fontFamily=n.fontFamily,i._fill=n.fill,i._stroke=n.stroke,i._strokeWidth=n.strokeWidth,i._textRendering=n.textRendering,i}return g(a,[{key:"setText",value:function(t){l(h(a.prototype),"setText",this).call(this,t),this._updateTextBounds()}},{key:"_generateCSS3FontString",value:function(t){e(this._fontSize&&this._fontFamily&&this._fontStyle&&this._fontWeight,"cannot generate the font string of a degenerate Text Node.");var n="";return"normal"!==this._fontStyle&&(n+=this._fontStyle+" "),"normal"!==this._fontWeight&&(n+=this._fontWeight+" "),n+=this._fontSize*t+"px "+this._fontFamily}},{key:"layout",value:function(t){t&&("hanging"!==this.element.getAttribute("dominant-baseline")&&(this.setAttribute("dominant-baseline","hanging"),this.element.setAttribute("stroke-width",this._strokeWidth*t)),this.style.font=this._generateCSS3FontString(t),l(h(a.prototype),"layout",this).call(this,t))}},{key:"_updateTextBounds",value:function(){if(this._fontSize&&this._fontFamily&&this._fontStyle&&this._fontWeight){var t=a._approximateTextBounds(this);this.width=t.width,this.height=t.height,this.style.font=this._generateCSS3FontString(this.screenViewScale)}}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){t!==this._fontStyle&&(e(["normal","italic","oblique"].includes(t),"invalid fontStyle: ".concat(t)),this._fontStyle=t,this._updateTextBounds())}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){t!==this._fontWeight&&(e("number"==typeof t?t<=900&&t>=100&&t%100==0:["normal","bold","bolder","lighter"].includes(t),"invalid fontWeight: ".concat(t)),this._fontWeight=t,this._updateTextBounds())}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){t!==this._fontSize&&(e("number"==typeof t&&t>0,"invalid fontSize: ".concat(t)),this._fontSize=t,this._updateTextBounds())}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){t!==this._fontFamily&&(e("string"==typeof t,"invalid fontFamily: ".concat(t)),this._fontFamily=t,this._updateTextBounds())}},{key:"fill",get:function(){return this._fill},set:function(t){t!==this._fill&&(e(!t||"string"==typeof t||t instanceof r,"invalid fill: ".concat(t)),this._fill=t,this.element.setAttribute("fill",t instanceof r?t.SVGGradientString:t))}},{key:"stroke",get:function(){return this._stroke},set:function(t){t!==this._stroke&&(e(!t||"string"==typeof t||t instanceof r,"invalid stroke: ".concat(t)),this._stroke=t,this.element.setAttribute("stroke",t instanceof r?t.SVGGradientString:t))}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(t){t!==this._strokeWidth&&(e("number"==typeof t,"invalid strokeWidth: ".concat(t)),this._strokeWidth=t,this.layout(this.screenViewScale))}},{key:"textRendering",get:function(){return this._textRendering},set:function(t){t!==this._textRendering&&(e(["auto","optimizeSpeed","optimizeLegibility","geometricPrecision"].includes(t),"invalid textRendering: ".concat(t)),this._textRendering=t,this.element.setAttribute("text-rendering",t))}},{key:"text",get:function(){return this._text},set:function(t){this.setText(t)}}],[{key:"_approximateTextBounds",value:function(t){return a.testSVGText||(a.testSVGTextParent=new n({type:"svg",id:"scenery-test-text-size-element",style:{opacity:0,whiteSpace:"nowrap",position:"absolute",left:"-65535px",top:"-65535px"}}),a.testSVGText=new n({type:"text",attributes:{"text-rendering":"geometricPrecision"}}),a.testSVGTextParent.addChild(a.testSVGText),document.body.appendChild(a.testSVGTextParent.element)),a.testSVGText.text=t.text,a.testSVGText.style.font=t._generateCSS3FontString(1),a.testSVGText.element.getBoundingClientRect()}}]),a}(o);return a.testSVGText,a.testSVGTextParent,a.MUTATOR_KEYS=["fontSize","fontFamily","fontStyle","fontWeight","fontStretch","fill","stroke","strokeWidth","shapeRendering","text"].concat(d(o.MUTATOR_KEYS)),a})),r("ROTATIONAL_MOTION/common/view/RotationalMotionIconFactory",["require","SIM_CORE/scenery/Arrow","SIM_CORE/util/assert","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","SIM_CORE/scenery/Node","SIM_CORE/scenery/Text","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/scenery/Arrow"),n=(t("SIM_CORE/util/assert"),t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes")),i=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/scenery/Text");t("SIM_CORE/util/Util");return{createVectorArrowIcon:function(t){return t=Object.assign({length:20,headHeight:9,headWidth:11,tailWidth:3.5},t),new e(0,0,t.length,0,t)},createCircularMotionTypeIcon:function(t){var e=new r(t===n.UNIFORM?"Uniform":"Non-uniform"),o=new i;o.width=100,e.center=o.center;var a=(new i).setChildren([o,e]);return a.width=o.width,a}}})),r("ROTATIONAL_MOTION/intro/view/CircularMotionTypesRadioButtonGroup",["require","SIM_CORE/util/assert","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","SIM_CORE/util/Property","SIM_CORE/scenery/buttons/RadioButton","SIM_CORE/scenery/RadioButtonGroup","ROTATIONAL_MOTION/common/view/RotationalMotionIconFactory"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes"),r=t("SIM_CORE/util/Property"),o=t("SIM_CORE/scenery/buttons/RadioButton"),a=t("SIM_CORE/scenery/RadioButtonGroup"),c=t("ROTATIONAL_MOTION/common/view/RotationalMotionIconFactory");return function(t){s(l,t);var a=i(l);function l(t,i){v(this,l),e(t instanceof r&&n.includes(t.value),"invalid circularMotionTypeProperty"),e(Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),i=Object.assign({spacing:8},i);var s=[];return n.MEMBERS.forEach((function(t){var e=new o(t,c.createCircularMotionTypeIcon(t));s.push(e)})),a.call(this,"horizontal",t,s,i)}return l}(a)})),r("SIM_CORE/scenery/Line",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/scenery/Path"),o=t("SIM_CORE/util/Shape"),a=t("SIM_CORE/util/Vector"),c=function(t){s(c,t);var r=i(c);function c(t,e,i,o,s){var l;return v(this,c),n("number"==typeof t,"invalid x1: ".concat(t)),n("number"==typeof e,"invalid x1: ".concat(e)),n("number"==typeof i,"invalid x2: ".concat(i)),n("number"==typeof o,"invalid y2: ".concat(o)),n(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),n(!s||!s.attributes,"Line sets attributes"),(l=r.call(this,null,s))._start=new a(t,e),l._end=new a(i,o),l._updateLineShape(),l}return g(c,[{key:"_updateLineShape",value:function(){this._start&&this._end&&(this._start.equalsEpsilon(this._end)&&e(h(c.prototype),"shape",null,this,!0),e(h(c.prototype),"shape",(new o).moveToPoint(this._start).lineToPoint(this._end),this,!0))}},{key:"start",get:function(){return this._start},set:function(t){t.equals(this._start)||(n(t instanceof a,"invalid start: ".concat(t)),this._start.set(t),this._updateLineShape())}},{key:"end",get:function(){return this._end},set:function(t){t.equals(this._end)||(n(t instanceof a,"invalid end: ".concat(t)),this._end.set(t),this._updateLineShape())}},{key:"startX",set:function(t){t!==this.start.x&&(n("number"==typeof t,"invalid startX: ".concat(t)),this._start.setX(t),this._updateLineShape())}},{key:"startY",set:function(t){t!==this.start.x&&(n("number"==typeof t,"invalid startY: ".concat(t)),this._start.setY(t),this._updateLineShape())}},{key:"endX",set:function(t){t!==this.end.x&&(n("number"==typeof t,"invalid endX: ".concat(t)),this._end.setX(t),this._updateLineShape())}},{key:"endY",set:function(t){t!==this.end.x&&(n("number"==typeof t,"invalid endY: ".concat(t)),this._end.setY(t),this._updateLineShape())}},{key:"shape",set:function(t){n(!1,"Line sets shape")}}],[{key:"withPoints",value:function(t,e,i){return n(t instanceof a,"invalid start: ".concat(t)),n(e instanceof a,"invalid end: ".concat(e)),new c(t.x,t.y,e.x,e.y,i)}}]),c}(r);return c.MUTATOR_KEYS=r.MUTATOR_KEYS,c})),r("ROTATIONAL_MOTION/common/view/FractionNode",["require","SIM_CORE/util/assert","SIM_CORE/scenery/FlexBox","SIM_CORE/scenery/Line","SIM_CORE/scenery/Node","SIM_CORE/scenery/Text"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/FlexBox"),r=t("SIM_CORE/scenery/Line"),o=t("SIM_CORE/scenery/Node"),a=t("SIM_CORE/scenery/Text");return function(t){s(c,t);var n=i(c);function c(t,i,s){var l;v(this,c),e("number"==typeof t||"string"==typeof t,"invalid numerator: ".concat(t)),e("number"==typeof i||"string"==typeof i,"invalid denominator"),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),s=Object.assign({textOptions:null,fractionBarFill:"black",fractionBarStroke:"black",fractionBarStrokeWidth:.5},s),l=n.call(this,"vertical",s);var u=new a(t,s.textOptions),h=new a(i,s.textOptions),d=new r(0,0,Math.max(u.width,h.width)+3,0,{fill:s.fractionBarFill,stroke:s.fractionBarStroke,strokeWidth:s.fractionBarStrokeWidth}),y=new o({height:3});return l.children=[u,d,y,h],l}return c}(n)})),r("SIM_CORE/scenery/buttons/Checkbox",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/util/Property","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/Node"),o=t("SIM_CORE/scenery/Path"),a=t("SIM_CORE/util/Property"),c=t("SIM_CORE/scenery/Rectangle"),u=t("SIM_CORE/util/Shape"),d=t("SIM_CORE/util/Vector");return function(t){s(_,t);var y=i(_);function _(t,i){var s;v(this,_),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),e(t instanceof a&&"boolean"==typeof t.value,"invalid toggleProperty: ".concat(t)),i=Object.assign({boxStroke:"black",boxFill:"white",boxStrokeWidth:2,boxCornerRadius:3,boxSize:19,checkFill:"black",checkStroke:"white",checkStrokeWidth:.8},i);var l=new c(i.boxSize,i.boxSize,{stroke:i.boxStroke,strokeWidth:i.boxStrokeWidth,fill:i.boxFill,cornerRadius:i.boxCornerRadius}),h=5*i.boxSize/8,p=27*h/16,f=5*h/12,O=.27*Math.PI,m=(new u).moveToPoint(d.ZERO).lineToPoint(d.scratch.setXY(h,0).rotate(O)).lineToPoint(d.scratch.setXY(h,-p).rotate(O)).lineToPoint(d.scratch.setXY(h-f,-p).rotate(O)).lineToPoint(d.scratch.setXY(h-f,-f).rotate(O)).lineToPoint(d.scratch.setXY(0,-f).rotate(O)).close(),g=(new r).addChild(new o(m,{fill:i.checkFill,stroke:i.checkStroke,strokeWidth:i.checkStrokeWidth,left:2*i.boxSize/5,bottom:-1*i.boxSize/12}));return(s=y.call(this,l,g,i)).mutate(i),s._toggleProperty=t,s._togglePropertyObserver=t.linkAttribute(g,"visible"),s.interactionStateProperty.link((function(e){e===n.interactionStates.PRESSED&&t.toggle()})),s}return g(_,[{key:"dispose",value:function(){this._toggleProperty.unlink(this._togglePropertyObserver),this._toggleProperty=null,l(h(_.prototype),"dispose",this).call(this)}}]),_}(n)})),r("ROTATIONAL_MOTION/common/view/LabeledCheckbox",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Checkbox","SIM_CORE/scenery/Node","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Checkbox"),r=t("SIM_CORE/scenery/Node"),o=t("SIM_CORE/util/Vector");return function(t){s(c,t);var a=i(c);function c(t,i,s){var l;return v(this,c),e(t instanceof r,"invalid label: ".concat(t)),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),s=Object.assign({spacing:8},s),(l=a.call(this,s))._checkbox=new n(i,s),l._checkbox.topLeft=o.ZERO,t.centerLeft=l._checkbox.background.centerRight.addXY(s.spacing,.9),l.children=[l._checkbox,t],l.mutate(s),l}return c}(r)})),r("ROTATIONAL_MOTION/common/view/NumberDisplay",["require","SIM_CORE/util/assert","SIM_CORE/scenery/FlexBox","SIM_CORE/scenery/Node","SIM_CORE/util/Property","SIM_CORE/util/Range","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Symbols","SIM_CORE/scenery/Text","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/FlexBox"),r=t("SIM_CORE/scenery/Node"),a=t("SIM_CORE/util/Property"),c=t("SIM_CORE/util/Range"),u=t("SIM_CORE/scenery/Rectangle"),d=t("SIM_CORE/util/Symbols"),y=t("SIM_CORE/scenery/Text"),_=t("SIM_CORE/util/Util"),p=t("SIM_CORE/util/Vector");return function(t){s(O,t);var f=i(O);function O(t,i,s){var l;v(this,O),e(t instanceof a,"invalid numberProperty: ".concat(t)),e(i instanceof c,"invalid range: ".concat(i)),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),s=Object.assign({xAlign:"center",yAlign:"center",unit:null,unitSpacing:4,decimalPlaces:0,xMargin:11,yMargin:1,cornerRadius:0,backgroundFill:"white",backgroundStroke:"lightGray",backgroundStrokeWidth:1,textOptions:null},s),(l=f.call(this,s))._numberProperty=t,l._range=i,l._xAlign=s.xAlign,l._yAlign=s.yAlign,l._unit=s.unit,l._decminalPlaces=s.decimalPlaces;var h="".concat(i.min.toFixed(l._decminalPlaces)," "),d="".concat(i.min.toFixed(l._decminalPlaces)," "),_=h.length>d.length?h:d;return l._valueNode=new y(_,s.textOptions),l._background=new u(l._valueNode.width+2*s.xMargin+(l._unit?l._unit.width:0),l._valueNode.height+2*s.yMargin+(l._unit?l._unit.height:0),{cornerRadius:s.cornerRadius,fill:s.backgroundFill,stroke:s.backgroundStroke,strokeWidth:s.backgroundStrokeWidth}),l._content=new n("horizontal",{spacing:s.unitSpacing}).addChild(l._valueNode),l._unit instanceof r&&l._content.addChild(l._unit),l.children=[l._background,l._content],l._numberPropertyObserver=l._updateNumberDisplay.bind(o(l)),t.link(l._numberPropertyObserver),l.mutate(s),l}return g(O,[{key:"dispose",value:function(){this._numberProperty.unlink(this._numberPropertyObserver),l(h(O.prototype),"dispose",this).call(this)}},{key:"_updateNumberDisplay",value:function(){e(null===this._numberProperty.value||this._range.contains(this._numberProperty.value),"numberProperty outside of range of NumberDisplay range: ".concat(this._numberProperty.value));var t=this._numberProperty.value;this._unit&&!this._content.hasChild(this._unit)&&this._content.addChild(this._unit),null===t?(this._valueNode.text=d.NO_VALUE,this._unit&&this._content.removeChild(this._unit)):this._valueNode.text="".concat(this._decminalPlaces?_.toFixed(t,this._decminalPlaces):t),this._background.topLeft=p.ZERO;var n="center"===this._xAlign?"centerX":this._xAlign,i="center"===this._yAlign?"centerY":this._yAlign;this._content[n]=this._background[n],this._content[i]=this._background[i]+1.5}}]),O}(r)})),r("SIM_CORE/core-internal/FPSCounter",["require","SIM_CORE/core-internal/DOMObject","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/core-internal/DOMObject"),n=t("SIM_CORE/util/Util");return function(t){s(r,t);var e=i(r);function r(){var t;return v(this,r),(t=e.call(this,{type:"div",style:{zIndex:99999999,position:"absolute",color:"red",left:"10px",top:"5px",fontSize:"17px",fontWeight:500,fontFamily:"Times, Arial, sans-serif",userSelect:"none",cursor:"default"},id:"fps-counter"}))._totalFrames=0,t._timeSinceLastCycle=0,t._minInstantFPS=null,t._maxInstantFPS=null,t}return g(r,[{key:"_updateFPSCounterText",value:function(t,e,i){var r=n.convertTo(1/t,n.MILLI).toFixed(2),o=t.toFixed(2),a=e.toFixed(2),s=i.toFixed(2);this.setText("".concat(o," FPS [ ").concat("↓").concat(a," - ").concat("↑").concat(s," ] ~ ").concat(r," ms/frame"))}},{key:"registerNewFrame",value:function(t){this._totalFrames++,this._timeSinceLastCycle+=t;var e=1/t;if(this._minInstantFPS=Math.min(this._minInstantFPS||e,e),this._maxInstantFPS=Math.max(this._maxInstantFPS||e,e),this._totalFrames%60==0){var n=60/this._timeSinceLastCycle;this._updateFPSCounterText(n,this._minInstantFPS,this._maxInstantFPS),this._timeSinceLastCycle=0,this._minInstantFPS=null,this._maxInstantFPS=null}}}]),r}(e)})),r("SIM_CORE/core-internal/Loader",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/Path","SIM_CORE/scenery/ScreenView","SIM_CORE/util/Shape","SIM_CORE/scenery/Text","SIM_CORE/util/Util","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/scenery/Path"),a=t("SIM_CORE/scenery/ScreenView"),c=t("SIM_CORE/util/Shape"),l=t("SIM_CORE/scenery/Text"),u=t("SIM_CORE/util/Util"),h=t("SIM_CORE/util/Vector"),d=50+10*Math.random(),y=15+10*Math.random(),_=100-d-y;return function(t){s(p,t);var n=i(p);function p(t,i){var s;return v(this,p),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),e(!i||!i.style,"Loader sets style."),e(!i||!i.type,"Loader sets type."),e(!i||!i.text,"Loader sets text."),e(!(i&&i.id&&i.class&&i.attributes),"Loader sets attributes"),e(!i||!i.children,"Loader sets children."),(i=Object.assign({backgroundColor:"#0f0f0f",loaderCircleBg:"#A5A5A5",loaderCircleFg:"#2974b2",loaderTitleColor:"#F1F1F1",loaderCircleRadius:43,loaderCircleStrokeWidth:11,titleCircleMargin:90,titleFontSize:30},i)).style={height:"100%",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",zIndex:999999,backgroundColor:i.backgroundColor},(s=n.call(this,i))._loaderCircleRadius=i.loaderCircleRadius,s._percentage=0,s._loaderScreenView=new a({id:"loader-screen-view"}),s._titleLabel=new l(t.simName,{center:s._loaderScreenView.layoutBounds.center.subtractXY(0,i.titleCircleMargin),maxWidth:s._loaderScreenView.layoutBounds.width,fill:i.loaderTitleColor,fontSize:i.titleFontSize,strokeWidth:2}),s._backgroundCirclePath=new r((new c).arc(h.ZERO,i.loaderCircleRadius,0,2*Math.PI-u.EPSILON),{fill:"none",stroke:i.loaderCircleBg,strokeWidth:i.loaderCircleStrokeWidth,center:s._loaderScreenView.layoutBounds.center.addXY(0,i.titleCircleMargin/2)}),s._foregroundCirclePath=new r(null,{fill:"none",stroke:i.loaderCircleFg,strokeWidth:i.loaderCircleStrokeWidth+.1,center:s._loaderScreenView.layoutBounds.center.addXY(0,i.titleCircleMargin/2)}),s.addChild(s._loaderScreenView.setChildren([s._titleLabel,s._backgroundCirclePath,s._foregroundCirclePath])),t.display.on("resize",s.layout.bind(o(s))),s}return g(p,[{key:"layout",value:function(t,e){this._loaderScreenView.layout(t,e)}},{key:"load",value:function(t,e){this.synchronousLoadScreens(t)}},{key:"incrementLoader",value:function(t){if(t!==this._percentage){e("number"==typeof t,"invalid loadedPercentage: ".concat(t)),this._percentage=t-u.EPSILON;var n=(new c).arc(h.ZERO,this._loaderCircleRadius,-Math.PI/2,-Math.PI/2+Math.PI*this._percentage/50);this._foregroundCirclePath.shape=n,t<50?this._foregroundCirclePath.topLeft=this._backgroundCirclePath.topCenter:this._foregroundCirclePath.topRight=this._backgroundCirclePath.topRight}}},{key:"synchronousLoadScreens",value:function(t){var e=this;setTimeout((function(){!function n(i){setTimeout((function(){t.screens[i].start(t.display);var r=1/t.screens.length*d,o=r*(.4+.1*Math.random()),a=r-o;e.incrementLoader(e._percentage+o),setTimeout((function(){e.incrementLoader(e._percentage+a),i+1<t.screens.length?n(i+1):e.synchronousLoadSimImages(t)}),800/Math.pow(2*t.screens.length,2*t.screens.length))}),300/Math.pow(t.screens.length,.01))}(0)}),300)}},{key:"synchronousLoadSimImages",value:function(t){var n=this;if(window.simImages){setTimeout((function(){!function i(r){setTimeout((function(){var o=window.simImages[r],a=o.image,s=o.src;a.element.onload=function(){e(n.isImageOk(a.element),"error while loading image"),n.incrementLoader(n._percentage+1/window.simImages.length*_),r+1<window.simImages.length?i(r+1):n.synchronousFinishDOM(t)},a.src=s}),300/window.images.length)}(0)}),200)}else setTimeout((function(){n.incrementLoader(n._percentage+_),n.synchronousFinishDOM(t)}),600)}},{key:"synchronousFinishDOM",value:function(t){var e=this;setTimeout((function(){t.finishLoadingScreens(),e.addDOMFinishedListener((function(){e.incrementLoader(100),setTimeout((function(){e.dispose()}),100)}))}),30*y)}},{key:"addDOMFinishedListener",value:function(t){return"loading"!==document.readyState?t():document.addEventListener?document.body.addEventListener("DOMContentLoaded",t):void document.attachEvent("onreadystatechange",(function(){"complete"===document.body.readyState&&t()}))}},{key:"isImageOk",value:function(t){return!!t.complete&&(void 0===t.naturalWidth||0!==t.naturalWidth)}}]),p}(n)})),r("SIM_CORE/core-internal/NavigationBar",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/util/Vector"),o=new r(768,504),a=function(t){s(a,t);var r=i(a);function a(t,i){var o;v(this,a),e("string"==typeof t,"invalid title: ".concat(t)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i));var s={id:"navigation-bar",style:{width:"100%",color:"white",bottom:0,background:"black",position:"absolute"}};return(i=Object.assign({},s,{},i)).style=Object.assign({},s.style,{},i.style),(o=r.call(this,i)).navigationBarContent=new n({id:"content",style:{height:"100%",fontSmoothing:"antialiased",margin:"0 auto"}}),o.titleDOMObject=new n({text:t,style:{height:"100%",display:"inline-flex",alignItems:"center"}}),o.addChild(o.navigationBarContent),o.navigationBarContent.setChildren([o.titleDOMObject]),o}return g(a,[{key:"layout",value:function(t,e){var n=Math.min(t/o.x,e/o.y),i=40*n,r=n*o.x,a=16*n;this.style.height="".concat(i,"px"),this.navigationBarContent.style.width="".concat(r,"px"),this.titleDOMObject.style.fontSize="".concat(a,"px"),this.titleDOMObject.style.left="".concat(8*n,"px")}}]),a}(n);return a.SCREEN_SIZE=o,a.NAVIGATION_BAR_HEIGHT=40,a})),r("SIM_CORE/Screen",["require","SIM_CORE/util/assert","SIM_CORE/core-internal/DOMObject","SIM_CORE/scenery/ScreenView"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/core-internal/DOMObject"),r=t("SIM_CORE/scenery/ScreenView");return function(t){s(o,t);var n=i(o);function o(t){var i;return v(this,o),e(Object.getPrototypeOf(t)===Object.prototype,"invalid config: ".concat(t)),t=Object.assign({model:t.model,view:t.view,name:t.name,background:t.background||"white"},t),e.enabled&&(e(t.model&&!!t.model.constructor,"invalid config.model: ".concat(t.model)),e(t.view&&!!t.view.constructor&&t.view.prototype instanceof r,"invalid config.view: ".concat(t.view)),e("string"==typeof t.name,"invalid config.name: ".concat(t.name)),e("string"==typeof t.background,"invalid config.background: ".concat(t.background))),(i=n.call(this,{style:{width:"100%",top:0,background:t.background,display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"}})).name=t.name,i.view,i.model,i._config=t,i}return g(o,[{key:"start",value:function(t){this.model=new this._config.model,this.view=new this._config.view(this.model),t.addChild(this.addChild(this.view))}}]),o}(n)})),r("text",[],(function(){"use strict";var t="undefined"==typeof process&&"undefined"!=typeof XMLHttpRequest,e={};return{load:function(i,r,o,a){var s=r.toUrl(i);if(t){var c=new XMLHttpRequest;c.open("GET",s,!0),c.onreadystatechange=function(){4===c.readyState&&200===c.status?o(c.responseText):c.status>=399&&c.status<600&&(c.onreadystatechange=null,o.error('Text Plugin error for "text!'.concat(i,'".').concat((new Error).stack.replace("Error",""))))},c.send(null)}else{var l=n.nodeRequire("fs");if(l.existsSync(s)){var u=l.readFileSync(s,"utf8");e[i]=u,o(u)}else o.error('Text Plugin error for "text!'.concat(i,'".').concat((new Error).stack.replace("Error","")))}},write:function(n,i,r,o){if(t||!Object.prototype.hasOwnProperty.call(e,i))throw new Error('Text Plugin error for "text!'.concat(name,'"'));r.asModule("".concat(n,"!").concat(i),"define( () => `".concat(e[i],"` );\n"))}}})),r("text!REPOSITORY/package.json",[],(function(){return'{\n  "name": "rotational-motion",\n  "license": "GPL-3.0",\n  "author": {\n    "name": "Brandon Li",\n    "email": "brandon.li820@gmail.com",\n    "url": "https://brandonwli.com/"\n  },\n  "version": "0.0.0-dev.3",\n  "description": "Rotational Motion is an HTML5 educational and interactive simulation that runs in the browser and explores the counterparts of linear motion in terms of rotational motion.",\n  "repository": {\n    "type": "git",\n    "url": "git+https://github.com/brandonLi8/rotational-motion.git"\n  },\n  "scripts": {\n    "start": "npx http-server -a localhost"\n  },\n  "devDependencies": {\n    "@brandonli8/grunt-config": "0.0.0-dev.19"\n  },\n  "dependencies": {\n    "requirejs": "^2.3.6",\n    "sim-core": "0.0.0-dev.40"\n  },\n  "bugs": {\n    "url": "https://github.com/brandonLi8/rotational-motion/issues",\n    "email": "brandon.li820@gmail.com"\n  },\n  "homepage": "https://rotational-motion.brandonwli.com/"\n}\n'})),r("SIM_CORE/Sim",["require","SIM_CORE/StandardSimQueryParameters","SIM_CORE/util/assert","SIM_CORE/core-internal/Display","SIM_CORE/core-internal/FPSCounter","SIM_CORE/core-internal/Loader","SIM_CORE/core-internal/NavigationBar","SIM_CORE/Screen","SIM_CORE/scenery/ScreenView","SIM_CORE/util/Util","text!REPOSITORY/package.json"],(function(t){"use strict";var e=t("SIM_CORE/StandardSimQueryParameters"),n=t("SIM_CORE/util/assert"),i=t("SIM_CORE/core-internal/Display"),r=t("SIM_CORE/core-internal/FPSCounter"),o=t("SIM_CORE/core-internal/Loader"),a=t("SIM_CORE/core-internal/NavigationBar"),s=t("SIM_CORE/Screen"),c=t("SIM_CORE/scenery/ScreenView"),l=t("SIM_CORE/util/Util");return function(){function u(){v(this,u)}return g(u,null,[{key:"start",value:function(u){n(!this.initiated,"Sim has already been launched."),u=Object.assign({screens:u.screens,name:u.name,maxDT:u.maxDT||.5},u),n(l.isArray(u.screens),"invalid screens: ".concat(u.screens)),n(u.screens.every((function(t){return t instanceof s})),"invalid screens: ".concat(u.screens)),n("string"==typeof u.name,"invalid name: ".concat(u.name)),n("number"==typeof u.maxDT&&u.maxDT>0,"invalid maxDT: ".concat(u.maxDT)),this.initiated=!0,this.simName=u.name,this.screens=u.screens,this.display=(new i).initiate();var h=new o(this);if(this.display.addChild(h),h.load(this),this.navigationBar=new a(u.name),this.display.addChild(this.navigationBar),e.fps){var d=new r;this.display.addChild(d),this.display.on("frame",(function(t){d.registerNewFrame(t)}))}e.dev&&c.enableDevBorder(),e.version&&console.log("".concat(u.name,": v").concat(JSON.parse(t("text!REPOSITORY/package.json")).version)),window.addEventListener("pageshow",(function(t){t.persisted&&window.location.reload()})),i.isMobile&&(window.addEventListener("touchmove",(function(t){t.preventDefault()}),{passive:!1}),window.addEventListener("touchend",(function(t){t.preventDefault()})))}},{key:"finishLoadingScreens",value:function(){var t=this;e.dev&&c.enableDevBorder(),this.display.on("resize",(function(e,n){t.navigationBar.layout(e,n);var i=n-parseFloat(t.navigationBar.style.height);t.screens.forEach((function(t){t.style.height="".concat(i,"px"),t.view.layout(e,i)}))})),this.display.on("frame",(function(e){t.screens[0].model.step&&t.screens[0].model.step(e)}))}}]),u}()})),r("SIM_CORE/scenery/events/DragListener",["require","SIM_CORE/util/assert","SIM_CORE/scenery/events/HoverListener","SIM_CORE/scenery/Node","SIM_CORE/scenery/events/PressListener","SIM_CORE/Sim"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/events/HoverListener"),r=t("SIM_CORE/scenery/Node"),a=t("SIM_CORE/scenery/events/PressListener");return function(c){s(u,c);var l=i(u);function u(t,n){var i;return v(this,u),e(t instanceof r,"invalid node: ".concat(t)),e(!n||Object.getPrototypeOf(n)===Object.prototype,"invalid options: ".concat(n)),e(!n||!n.press,"DragListener does not have a press option."),e(!n||!n.release,"DragListener does not have a release option."),n=Object.assign({start:null,end:null,drag:null,throttle:5},n),e(!n.start||"function"==typeof n.start,"invalid start: ".concat(n.start)),e(!n.end||"function"==typeof n.end,"invalid end: ".concat(n.end)),e(!n.drag||"function"==typeof n.drag,"invalid drag: ".concat(n.drag)),(i=l.call(this,t))._startListener=n.start,i._endListener=n.end,i._dragListener=n.drag,i._throttle=n.throttle,i._pressListener=i._start.bind(o(i)),i._initiate(),i}return g(u,[{key:"_start",value:function(e,i){var r=this;this._startListener&&this._startListener(e,i);var o=t("SIM_CORE/Sim").display,s=this._getEventWindowLocation(i),c=new n(o,{movement:function(t){if(r._dragListener){var e=r._getEventWindowLocation(t).subtract(s).divide(r._targetNode.screenViewScale);r._dragListener(e,t)}},movementThrottle:this._throttle}),l=new a(o,{release:function(t){c.dispose(),l.dispose(),r._endListener&&r._endListener(t)}})}}]),u}(a)})),r("SIM_CORE/scenery/Slider",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/events/DragListener","SIM_CORE/scenery/Line","SIM_CORE/scenery/Node","SIM_CORE/scenery/events/PressListener","SIM_CORE/util/Property","SIM_CORE/util/Range","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/events/DragListener"),a=t("SIM_CORE/scenery/Line"),c=t("SIM_CORE/scenery/Node"),u=t("SIM_CORE/scenery/events/PressListener"),d=t("SIM_CORE/util/Property"),y=t("SIM_CORE/util/Range"),_=t("SIM_CORE/scenery/Rectangle"),p=t("SIM_CORE/util/Util");return function(t){s(O,t);var f=i(O);function O(t,i,s){var c;v(this,O),e(t instanceof y,"invalid range: ".concat(t)),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),e(!s||!s.style,"Slider sets attributes"),e(i instanceof d&&"number"==typeof i.value,"invalid numberProperty: ".concat(i)),s=Object.assign({trackFill:"#BCBCBC",trackStroke:"black",trackStrokeWidth:1,trackHeight:3,trackWidth:180,trackCornerRadius:0,thumbWidth:12,thumbHeight:25,thumbBaseColor:"#90F360",thumbStroke:"black",thumbStrokeWidth:1,thumbCenterLineStroke:"#333",thumbCenterLineYMargin:3,thumbCornerRadius:2.5,majorTickHeight:25,majorTickStroke:"black",majorTickStrokeWidth:1.3,minorTickHeight:8,minorTickStroke:"#323232",minorTickStrokeWidth:1,tickLabelSpacing:6,startDrag:null,endDrag:null,constrain:null},s),(c=f.call(this,s))._constrain=s.constrain,c._majorTickHeight=s.majorTickHeight,c._majorTickStroke=s.majorTickStroke,c._majorTickStrokeWidth=s.majorTickStrokeWidth,c._minorTickHeight=s.minorTickHeight,c._minorTickStroke=s.minorTickStroke,c._minorTickStrokeWidth=s.minorTickStrokeWidth,c._tickLabelSpacing=s.tickLabelSpacing,c._range=t,c._numberProperty=i,c._track=new _(s.trackWidth,s.trackHeight,{left:s.thumbWidth/2,fill:s.trackFill,stroke:s.trackStroke,strokeWidth:s.trackStrokeWidth,cornerRadius:s.trackCornerRadius,cursor:"pointer"});var l=new _(s.thumbWidth,s.thumbHeight,{stroke:s.thumbStroke,strokeWidth:s.thumbStrokeWidth,cornerRadius:s.thumbCornerRadius}),h=new a(l.centerX,l.top+s.thumbCenterLineYMargin,l.centerX,l.bottom-s.thumbCenterLineYMargin,{stroke:s.thumbCenterLineStroke});c._thumb=new n(l,h,{centerY:c._track.centerY}),n.apply3DGradients(c._thumb,s.thumbBaseColor);var p,m=new _(c._thumb.width/2,0,{right:c._track.left}),g=new _(c._thumb.width/2,0,{left:c._track.right});return c.setChildren([c._track,c._thumb,m,g]),s&&c.mutate(s),c._thumbDragListener=new r(c._thumb,{drag:function(t){c._thumb.interactionStateProperty.value=n.interactionStates.PRESSED,c._setThumbPosition(p.copy().add(t))},start:function(){s.startDrag&&s.startDrag(),p=c._thumb.center},end:function(){c._thumb.interactionStateProperty.value=n.interactionStates.IDLE,s.endDrag&&s.endDrag()}}),c._trackPressListener=new u(c._track,{press:c._setThumbPosition.bind(o(c))}),c._numberPropertyObserver=c._updateSlider.bind(o(c)),i.link(c._numberPropertyObserver),c}return g(O,[{key:"dispose",value:function(){this._numberProperty.unlink(this._numberPropertyObserver),this._trackPressListener.dispose(),this._thumbDragListener.dispose(),l(h(O.prototype),"dispose",this).call(this)}},{key:"addMajorTick",value:function(t,e){this._addTick(t,e,!0)}},{key:"addMinorTick",value:function(t,e){this._addTick(t,e,!1)}},{key:"_addTick",value:function(t,n,i){e("number"==typeof t&&this._range.contains(t),"invalid value: ".concat(t)),e(!n||n instanceof c,"invalid label: ".concat(n));var r=(t-this._range.min)/this._range.length*this._track.width+this._track.left,o=new a(r,i?this._track.top-this._majorTickHeight/2:this._track.top,r,i?this._track.top+this._majorTickHeight/2:this._track.top-this._minorTickHeight,{stroke:i?this._majorTickStroke:this._minorTickStroke,strokeWidth:i?this._majorTickStrokeWidth:this._minorTickStrokeWidth});this.addChild(o),n&&(this.addChild(n),n.centerX=o.centerX,n.bottom=o.top-this._tickLabelSpacing),this._thumb.moveToFront(),this.layout(this.screenViewScale)}},{key:"_setThumbPosition",value:function(t){var e=t.subtract(this._track.topLeft).subtractXY(2*this._track.strokeWidth,0),n=p.clamp(e.x/this._track.width,0,1)*this._range.length+this._range.min;this._numberProperty.value=this._constrain?this._constrain(n):n}},{key:"_updateSlider",value:function(){e(this._range.contains(this._numberProperty.value),"numberProperty outside of range of slider");var t=(this._numberProperty.value-this._range.min)/this._range.length;this._thumb.centerX=t*this._track.width+this._track.left}}]),O}(c)})),r("ROTATIONAL_MOTION/common/view/NumberControlSet",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Node","ROTATIONAL_MOTION/common/view/NumberDisplay","SIM_CORE/util/Property","SIM_CORE/util/Range","SIM_CORE/scenery/Slider","SIM_CORE/scenery/Text"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/Node"),r=t("ROTATIONAL_MOTION/common/view/NumberDisplay"),o=t("SIM_CORE/util/Property"),a=t("SIM_CORE/util/Range"),c=t("SIM_CORE/scenery/Slider"),u=t("SIM_CORE/scenery/Text");return function(t){s(d,t);var n=i(d);function d(t,i,s,l){var h;return v(this,d),e("string"==typeof t,"invalid title: ".concat(t)),e(i instanceof o,"invalid numberProperty: ".concat(i)),e(s instanceof a,"invalid range: ".concat(s)),e(!l||Object.getPrototypeOf(l)===Object.prototype,"invalid options: ".concat(l)),l=Object.assign({sliderTopMargin:4,sliderOptions:null,titleTextOptions:null,numberDisplayOptions:null},l),(h=n.call(this,l))._numberProperty=i,h._range=s,h._sliderTopMargin=l.sliderTopMargin,h._titleNode=new u(t,l.titleTextOptions),h._numberDisplay=new r(i,s,l.numberDisplayOptions),h._slider=new c(s,i,l.sliderOptions),h.children=[h._titleNode,h._numberDisplay,h._slider],h._updateLayout(),h.mutate(l),h}return g(d,[{key:"dispose",value:function(){this._slider.dispose(),this._numberDisplay.dispose(),this._titleNode.dispose(),l(h(d.prototype),"dispose",this).call(this)}},{key:"addSliderMajorTick",value:function(t,e){return this._slider.addMajorTick(t,e),this._updateLayout(),this}},{key:"addSliderMinorTick",value:function(t,e){return this._slider.addMinorTick(t,e),this._updateLayout(),this}},{key:"_updateLayout",value:function(){this._titleNode.left=this._slider.left,this._numberDisplay.right=this._slider.right,this._titleNode.height>this._numberDisplay.height?(this._numberDisplay.centerY=this._titleNode.centerY,this._slider.top=this._titleNode.bottom+this._sliderTopMargin):(this._titleNode.centerY=this._numberDisplay.centerY,this._slider.top=this._numberDisplay.bottom+this._sliderTopMargin)}}]),d}(n)})),r("ROTATIONAL_MOTION/common/view/Panel",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Node","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/Node"),r=t("SIM_CORE/scenery/Rectangle"),o=t("SIM_CORE/util/Vector");return function(t){s(c,t);var a=i(c);function c(t,i){var o;return v(this,c),e(t instanceof n,"invalid content: ".concat(t)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),e(!i||!i.attributes,"Panel sets attributes"),e(!i||!i.width,"Panel sets width"),e(!i||!i.height,"Panel sets height"),i=Object.assign({fill:"white",stroke:"black",cornerRadius:5,strokeWidth:1,xMargin:14,yMargin:13},i),(o=a.call(this,i))._xMargin=i.xMargin,o._yMargin=i.yMargin,o.content=t,o._background=new r(0,0,{fill:i.fill,stroke:i.stroke,strokeWidth:i.strokeWidth,cornerRadius:i.cornerRadius}),o._isUpdatingLayout=!1,o.children=[o._background,o.content],o.mutate(i),o}return g(c,[{key:"_updateLayout",value:function(){this._isUpdatingLayout=!0,this._background.topLeft=o.ZERO,this._background.width=this.content.width+this._xMargin,this._background.height=this.content.height+this._yMargin,this.content.center=this._background.center,this._isUpdatingLayout=!1,l(h(c.prototype),"_recomputeAncestorBounds",this).call(this)}},{key:"_recomputeAncestorBounds",value:function(){if(!1===this._isUpdatingLayout)return this._updateLayout()}}]),c}(n)})),r("ROTATIONAL_MOTION/common/RotationalMotionColors",["require"],(function(t){"use strict";return{SPINNER_PIN_COLORS:{fill:"rgb( 100, 100, 100 )",stroke:"black",strokeWidth:.2},SPINNER_STRING_COLORS:{stroke:"black",strokeWidth:2},SPINNER_BALL_COLORS:{fill:"green",stroke:"black",strokeWidth:.5},LINEAR_VELOCITY_VECTOR_COLORS:{fill:"rgb( 10, 170, 250 )",stroke:"black",strokeWidth:.5},LINEAR_ACCELERATION_VECTOR_COLORS:{fill:"red",stroke:"black",strokeWidth:.5},PANEL_COLORS:{stroke:"rgb( 100, 100, 100 )",fill:"rgb( 240, 240, 240 )",strokeWidth:.5}}})),r("ROTATIONAL_MOTION/intro/view/IntroControlPanel",["require","SIM_CORE/util/assert","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","SIM_CORE/scenery/FlexBox","ROTATIONAL_MOTION/common/view/FractionNode","ROTATIONAL_MOTION/common/view/LabeledCheckbox","SIM_CORE/scenery/Node","ROTATIONAL_MOTION/common/view/NumberControlSet","ROTATIONAL_MOTION/common/view/Panel","SIM_CORE/util/Property","ROTATIONAL_MOTION/common/RotationalMotionColors","ROTATIONAL_MOTION/common/view/RotationalMotionIconFactory","ROTATIONAL_MOTION/intro/model/Spinner","SIM_CORE/util/Symbols","SIM_CORE/scenery/Text","SIM_CORE/util/Util"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes"),r=t("SIM_CORE/scenery/FlexBox"),o=t("ROTATIONAL_MOTION/common/view/FractionNode"),a=t("ROTATIONAL_MOTION/common/view/LabeledCheckbox"),c=t("SIM_CORE/scenery/Node"),l=t("ROTATIONAL_MOTION/common/view/NumberControlSet"),u=t("ROTATIONAL_MOTION/common/view/Panel"),h=t("SIM_CORE/util/Property"),d=t("ROTATIONAL_MOTION/common/RotationalMotionColors"),y=t("ROTATIONAL_MOTION/common/view/RotationalMotionIconFactory"),_=t("ROTATIONAL_MOTION/intro/model/Spinner"),p=t("SIM_CORE/util/Symbols"),f=t("SIM_CORE/scenery/Text"),O=t("SIM_CORE/util/Util"),m={textOptions:{fontSize:12,fontWeight:500}},g=Math.PI/16,S=Math.PI/16;function R(t){t.left=0,t.top=0;var e=new c;e.width=20,t.centerX=e.centerX;var n=(new c).setChildren([e,t]);return n.width=e.width,n}function M(t,e){t.left=0,t.top=0;var n=new c;n.height=e,t.centerY=n.centerY;var i=(new c).setChildren([n,t]);return i.height=n.height,i}function I(t){var e=(t/=Math.PI).toString().length-2,n=Math.pow(10,e),i=t*n,r=O.gcd(i,n);return i/=r,n/=r,O.equalsEpsilon(i,0)?new f(0,m):new o("".concat(1===i?"":i," ").concat(p.PI),n,m)}return function(t){s(b,t);var u=i(b);function b(t,i,s,C){var E,k;v(this,b),e(t instanceof _,"invalid spinner: ".concat(t)),e(i instanceof h,"invalid linearVelocityVisibleProperty"),e(s instanceof h,"invalid linearAccelerationVisibleProperty"),e(!C||Object.getPrototypeOf(C)===Object.prototype,"invalid options: ".concat(C)),C=Object.assign({},d.PANEL_COLORS,{spacing:10},C),E=u.call(this,new r("vertical",{align:"left",spacing:C.spacing}),C);for(var T={startDrag:function(){k=t.isPlayingProperty.value,t.isPlayingProperty.value=!1},endDrag:function(){k&&t.isPlayingProperty.set(!0),k=null}},w=new l("Radius",t.radiusProperty,t.radiusRange,{sliderOptions:T,numberDisplayOptions:{decimalPlaces:2,unit:new f("m"),yMargin:0}}).addSliderMajorTick(t.radiusRange.min,R(new f(t.radiusRange.min))).addSliderMajorTick(t.radiusRange.max,R(new f(t.radiusRange.max))),P=1;P<t.radiusRange.max/.1-1;P++){var x=O.toFixed(.1*P+t.radiusRange.min,2);w.addSliderMinorTick(x,P%3?null:new f(x))}if(E.content.addChild(w),t.type===n.UNIFORM){for(var A=new o("rad","sec",m),L=R(I(t.angularVelocityRange.min)),N=R(I(t.angularVelocityRange.max)),V=new l(p.OMEGA,t.angularVelocityProperty,t.angularVelocityRange,{sliderOptions:T,numberDisplayOptions:{decimalPlaces:2,unit:A,yMargin:-2}}).addSliderMajorTick(t.angularVelocityRange.min,L).addSliderMajorTick(t.angularVelocityRange.max,N),B=1;B<=t.angularVelocityRange.max/g-1;B++){var j=B*g+t.angularVelocityRange.min,F=B%2?null:I(j);V.addSliderMinorTick(j,F)}E.content.addChild(V)}else{for(var Y=new o("rad","sec^2",m),W=R(I(t.angularAccelerationRange.min)),D=R(I(t.angularAccelerationRange.max)),X=new l(p.ALPHA,t.angularAccelerationProperty,t.angularAccelerationRange,{sliderOptions:T,numberDisplayOptions:{decimalPlaces:2,unit:Y,yMargin:-2}}).addSliderMajorTick(t.angularAccelerationRange.min,W).addSliderMajorTick(t.angularAccelerationRange.max,D),H=1;H<=t.angularAccelerationRange.max/S-1;H++){var U=H*S+t.angularAccelerationRange.min,q=H%2?null:I(U);X.addSliderMinorTick(U,q)}E.content.addChild(X)}E.content.addChild(M(new c,10));var z=new a(new r("horizontal",{spacing:5}).setChildren([new f("Linear Velocity Vector",{fontSize:12}),y.createVectorArrowIcon(d.LINEAR_VELOCITY_VECTOR_COLORS)]),i,{boxSize:16});if(E.content.addChild(z),t.type===n.NON_UNIFORM){var G=new a(new r("horizontal",{spacing:5}).setChildren([new f("Linear Acceleration Vector",{fontSize:12}),y.createVectorArrowIcon(d.LINEAR_ACCELERATION_VECTOR_COLORS)]),s,{boxSize:16});E.content.addChild(G)}return E.content.addChild(M(new c,15)),E.mutate(C),E}return b}(u)})),r("SIM_CORE/scenery/Circle",["require","SIM_CORE/util/assert","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Util"],(function(t){"use strict";var n=t("SIM_CORE/util/assert"),r=t("SIM_CORE/scenery/Path"),o=t("SIM_CORE/util/Shape"),a=t("SIM_CORE/util/Util"),c=function(t){s(c,t);var r=i(c);function c(t,e){var i;return v(this,c),n("number"==typeof t&&t>=0,"invalid radius: ".concat(t)),n(!e||Object.getPrototypeOf(e)===Object.prototype,"invalid options: ".concat(e)),n(!e||!e.attributes,"Circle sets attributes"),(i=r.call(this,null,e))._radius=t,i._updateCircleShape(),e&&i.mutate(e),i}return g(c,[{key:"_updateCircleShape",value:function(){this._radius&&(0===this._radius&&e(h(c.prototype),"shape",null,this,!0),e(h(c.prototype),"shape",(new o).arc(this.center,this._radius,0,2*Math.PI-a.EPSILON).close(),this,!0))}},{key:"radius",get:function(){return this._radius},set:function(t){t!==this._radius&&(n("number"==typeof t,"invalid radius: ".concat(t)),this._radius=t,this._updateCircleShape())}},{key:"shape",set:function(t){n(!1,"Circle sets shape")}}]),c}(r);return c.MUTATOR_KEYS=r.MUTATOR_KEYS,c})),r("SIM_CORE/scenery/buttons/ResetButton",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/Circle","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/util/Shape","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/Circle"),a=t("SIM_CORE/scenery/Node"),c=t("SIM_CORE/scenery/Path"),l=t("SIM_CORE/util/Shape"),u=t("SIM_CORE/util/Vector");return function(t){s(d,t);var h=i(d);function d(t){var i;v(this,d),e(!t||Object.getPrototypeOf(t)===Object.prototype,"invalid options: ".concat(t)),t=Object.assign({baseColor:"#C32526",listener:null,radius:25.5,buttonStroke:"black",buttonStrokeWidth:.5,curvedArrowFill:"white",curvedArrowStroke:"black",curvedArrowStrokeWidth:.5,curvedArrowHeadHeight:9,curvedArrowHeadWidth:13.5,curvedArrowTailWidth:6,curvedArrowRadius:13,curvedArrowStartAngle:1.95*Math.PI,curvedArrowEndAngle:1.65*Math.PI},t);var s=d.generateCurvedArrowShape(t.curvedArrowStartAngle,t.curvedArrowEndAngle,t.curvedArrowRadius,t.curvedArrowHeadHeight,t.curvedArrowHeadWidth,t.curvedArrowTailWidth),l=(new a).addChild(new c(s,{fill:t.curvedArrowFill,stroke:t.curvedArrowStroke,strokeWidth:t.curvedArrowStrokeWidth,left:s.bounds.maxX+s.bounds.minX,top:s.bounds.maxY+s.bounds.minY})),u=new r(t.radius,{stroke:t.buttonStroke,strokeWidth:t.buttonStrokeWidth,shapeRendering:"geometricPrecision"});return i=h.call(this,u,l,t),n.apply3DGradients(o(i),t.baseColor),t.listener&&i.interactionStateProperty.link((function(e){e===n.interactionStates.PRESSED&&t.listener()})),i}return g(d,null,[{key:"generateCurvedArrowShape",value:function(t,n,i,r,o,a){e(o>a,"tailWidth must be smaller than the headWidth"),e(i>o/2,"radius smaller than half of the headWidth");var s=i-a/2,c=i+a/2,h=new u(0,i).setAngle(-t).add(u.scratch.setXY(0,1).setAngle(-t+Math.PI/2).multiply(r));return(new l).arc(u.ZERO,c,-t,-n,!0).lineToPoint(u.scratch.setXY(0,s).setAngle(-n)).arc(u.ZERO,s,-n,-t,!1).lineToPoint(u.scratch.setXY(0,i-o/2).setAngle(-t)).lineToPoint(h).lineToPoint(u.scratch.setXY(0,i+o/2).setAngle(-t)).close()}}]),d}(n)})),r("ROTATIONAL_MOTION/common/view/BallNode",["require","SIM_CORE/util/assert","ROTATIONAL_MOTION/common/model/Ball","SIM_CORE/scenery/Circle","SIM_CORE/util/ModelViewTransform","SIM_CORE/scenery/Node"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("ROTATIONAL_MOTION/common/model/Ball"),r=t("SIM_CORE/scenery/Circle"),o=t("SIM_CORE/util/ModelViewTransform");return function(t){s(c,t);var a=i(c);function c(t,i,s){var l;v(this,c),e(t instanceof n,"invalid ball: ".concat(t)),e(i instanceof o,"invalid modelViewTransform: ".concat(i)),e(!s||Object.getPrototypeOf(s)===Object.prototype,"invalid options: ".concat(s)),s=Object.assign({fill:"white",stroke:"black",strokeWidth:1,cursor:"pointer"},s),l=a.call(this,s);var u=new r(0,{fill:s.fill,stroke:s.stroke,strokeWidth:s.strokeWidth,cursor:s.cursor});return l.addChild(u),t.centerPositionProperty.link((function(t){u.center=i.modelToViewPoint(t)})),t.radiusProperty.link((function(t){u.radius=i.modelToViewDeltaX(t)})),l}return c}(t("SIM_CORE/scenery/Node"))})),r("ROTATIONAL_MOTION/intro/view/IntroBallNode",["require","SIM_CORE/scenery/Arrow","SIM_CORE/util/assert","ROTATIONAL_MOTION/common/view/BallNode","ROTATIONAL_MOTION/intro/model/IntroBall","SIM_CORE/util/ModelViewTransform","SIM_CORE/util/Multilink","SIM_CORE/util/Property","ROTATIONAL_MOTION/common/RotationalMotionColors","ROTATIONAL_MOTION/common/RotationalMotionConstants","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/scenery/Arrow"),n=t("SIM_CORE/util/assert"),r=t("ROTATIONAL_MOTION/common/view/BallNode"),o=t("ROTATIONAL_MOTION/intro/model/IntroBall"),a=t("SIM_CORE/util/ModelViewTransform"),c=t("SIM_CORE/util/Multilink"),l=t("SIM_CORE/util/Property"),u=t("ROTATIONAL_MOTION/common/RotationalMotionColors"),h=t("ROTATIONAL_MOTION/common/RotationalMotionConstants"),d=t("SIM_CORE/util/Vector"),y=h.VELOCITY_SCALAR,_=h.ACCELERATION_SCALAR;return function(t){s(h,t);var r=i(h);function h(t,i,s,p,f){var O;return v(this,h),n(t instanceof o,"invalid ball: ".concat(t)),n(i instanceof a,"invalid modelViewTransform: ".concat(i)),n(s instanceof l,"invalid velocityVisibleProperty"),n(p instanceof l,"invalid accelerationVisibleProperty"),n(!f||Object.getPrototypeOf(f)===Object.prototype,"invalid options: ".concat(f)),(O=r.call(this,t,i,f))._velocityArrow=new e(0,0,0,0,u.LINEAR_VELOCITY_VECTOR_COLORS),O._accelerationArrow=new e(0,0,0,0,u.LINEAR_ACCELERATION_VECTOR_COLORS),O.addChild(O._velocityArrow),O.addChild(O._accelerationArrow),new c([t.tangentialVelocityVectorProperty,t.centerPositionProperty],(function(e){var n=d.scratch.set(e).multiply(y);O._velocityArrow.tail=i.modelToViewPoint(t.center),O._velocityArrow.tip=i.modelToViewPoint(n.add(t.center))})),new c([t.tangentialAccelerationVectorProperty,t.centerPositionProperty],(function(e){var n=d.scratch.set(e).multiply(_);O._accelerationArrow.tail=i.modelToViewPoint(t.center),O._accelerationArrow.tip=i.modelToViewPoint(n.add(t.center))})),s.linkAttribute(O._velocityArrow,"visible"),p.linkAttribute(O._accelerationArrow,"visible"),O}return g(h,[{key:"_recomputeAncestorBounds",value:function(){this.layout(this.screenViewScale)}}]),h}(r)})),r("SIM_CORE/scenery/buttons/PlayPauseButton",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/Circle","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/util/Property","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Shape"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/Circle"),a=t("SIM_CORE/scenery/Node"),c=t("SIM_CORE/scenery/Path"),u=t("SIM_CORE/util/Property"),d=t("SIM_CORE/scenery/Rectangle"),y=t("SIM_CORE/util/Shape");return function(t){s(p,t);var _=i(p);function p(t,i){var s;v(this,p),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),e(t instanceof u&&"boolean"==typeof t.value,"invalid playProperty: ".concat(t)),i=Object.assign({baseColor:"#75B4FF",radius:25,buttonStroke:"#343B70",buttonStrokeWidth:.5,playTriangleSideLength:27,pauseRectangleWidth:8.5,pauseRectangleHeight:24,pauseRectangleMargin:4,playPauseFill:"white",playPauseStroke:"#5A8AC4",playPauseStrokeWidth:1},i);var l=new r(i.radius,{stroke:i.buttonStroke,strokeWidth:i.buttonStrokeWidth,shapeRendering:"geometricPrecision"}),h=new d(i.pauseRectangleWidth,i.pauseRectangleHeight,{fill:i.playPauseFill,stroke:i.playPauseStroke,strokeWidth:i.playPauseStrokeWidth,right:-i.pauseRectangleMargin/2}),f=new d(i.pauseRectangleWidth,i.pauseRectangleHeight,{fill:i.playPauseFill,stroke:i.playPauseStroke,strokeWidth:i.playPauseStrokeWidth,left:i.pauseRectangleMargin/2}),O=(new a).setChildren([f,h]),m=(new y).moveTo(2/Math.sqrt(3)*i.playTriangleSideLength/2,0).lineTo(-1/Math.sqrt(3)*i.playTriangleSideLength/2,-i.playTriangleSideLength/2).lineTo(-1/Math.sqrt(3)*i.playTriangleSideLength/2,i.playTriangleSideLength/2).close(),g=new c(m,{fill:i.playPauseFill,stroke:i.playPauseStroke,strokeWidth:i.playPauseStrokeWidth,left:m.bounds.maxX+m.bounds.minX});return s=_.call(this,l,new a,i),n.apply3DGradients(o(s),i.baseColor),s._playProperty=t,s._playPropertyObserver=function(t){s.content.children=[t?O:g],s.updatePositioning()},s._playProperty.link(s._playPropertyObserver),s.interactionStateProperty.link((function(e){e===n.interactionStates.PRESSED&&t.toggle()})),s}return g(p,[{key:"dispose",value:function(){this._playProperty.unlink(this._playPropertyObserver),this._playProperty=null,l(h(p.prototype),"dispose",this).call(this)}}]),p}(n)})),r("SIM_CORE/scenery/buttons/StepButton",["require","SIM_CORE/util/assert","SIM_CORE/scenery/buttons/Button","SIM_CORE/scenery/Circle","SIM_CORE/scenery/Node","SIM_CORE/scenery/Path","SIM_CORE/scenery/Rectangle","SIM_CORE/util/Shape"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/buttons/Button"),r=t("SIM_CORE/scenery/Circle"),a=t("SIM_CORE/scenery/Node"),c=t("SIM_CORE/scenery/Path"),l=t("SIM_CORE/scenery/Rectangle"),u=t("SIM_CORE/util/Shape");return function(t){s(d,t);var h=i(d);function d(t,i){var s;v(this,d),e("forward"===t||"backward"===t,"invalid direction: ".concat(t)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),i=Object.assign({baseColor:"#7686FF",radius:15.5,buttonStroke:"#343B70",buttonStrokeWidth:.5,listener:null,barWidth:3,barHeight:16,triangleSideLength:16,contentFill:"white",contentStroke:"#5763BD",contentStrokeWidth:1,contentMargin:2},i);var y=new r(i.radius,{stroke:i.buttonStroke,strokeWidth:i.buttonStrokeWidth,shapeRendering:"geometricPrecision"}),_=(new u).moveTo(.71*i.triangleSideLength,i.triangleSideLength/2).lineTo(0,i.triangleSideLength).lineTo(0,0).close(),p=new l(i.barWidth,i.barHeight,{fill:i.contentFill,stroke:i.contentStroke,strokeWidth:i.contentStrokeWidth,left:_.bounds.width-i.contentMargin-i.barWidth}),f=new c(_,{fill:i.contentFill,stroke:i.contentStroke,strokeWidth:i.contentStrokeWidth,left:p.right+i.contentMargin,centerY:p.centerY});return s=h.call(this,y,(new a).setChildren([p,f]),i),"backward"===t&&s.content.scale(-1),n.apply3DGradients(o(s),i.baseColor),i.listener&&s.interactionStateProperty.link((function(t){t===n.interactionStates.PRESSED&&i.listener()})),s}return g(d,null,[{key:"backwards",value:function(t){return new d("backward",t)}},{key:"forwards",value:function(t){return new d("forward",t)}}]),d}(n)})),r("ROTATIONAL_MOTION/common/view/TimeControlBox",["require","SIM_CORE/util/assert","SIM_CORE/scenery/FlexBox","SIM_CORE/scenery/Node","SIM_CORE/scenery/buttons/PlayPauseButton","SIM_CORE/util/Property","SIM_CORE/scenery/buttons/StepButton"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/scenery/FlexBox"),r=(t("SIM_CORE/scenery/Node"),t("SIM_CORE/scenery/buttons/PlayPauseButton")),o=t("SIM_CORE/util/Property"),a=t("SIM_CORE/scenery/buttons/StepButton");return function(t){s(c,t);var n=i(c);function c(t,i){var s;v(this,c),e(t instanceof o,"invalid playProperty: ".concat(t)),e(!i||Object.getPrototypeOf(i)===Object.prototype,"invalid options: ".concat(i)),i=Object.assign({playPauseOptions:null,stepBackwardOptions:null,stepForwardOptions:null,spacing:5},i),s=n.call(this,"horizontal",i);var l=a.backwards(i.stepBackwardOptions),u=a.forwards(i.stepForwardOptions),h=new r(t,i.playPauseOptions);return s.children=[l,h,u],s.mutate(i),s}return c}(n)})),r("ROTATIONAL_MOTION/intro/view/SpinnerNode",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","SIM_CORE/scenery/Circle","SIM_CORE/scenery/events/DragListener","ROTATIONAL_MOTION/intro/view/IntroBallNode","SIM_CORE/scenery/Line","SIM_CORE/util/ModelViewTransform","SIM_CORE/scenery/Node","SIM_CORE/util/Property","ROTATIONAL_MOTION/common/RotationalMotionColors","ROTATIONAL_MOTION/common/RotationalMotionConstants","ROTATIONAL_MOTION/intro/model/Spinner","ROTATIONAL_MOTION/common/view/TimeControlBox","SIM_CORE/util/Vector"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=t("SIM_CORE/util/Bounds"),r=t("SIM_CORE/scenery/Circle"),o=t("SIM_CORE/scenery/events/DragListener"),a=t("ROTATIONAL_MOTION/intro/view/IntroBallNode"),c=t("SIM_CORE/scenery/Line"),l=t("SIM_CORE/util/ModelViewTransform"),u=t("SIM_CORE/scenery/Node"),h=t("SIM_CORE/util/Property"),d=t("ROTATIONAL_MOTION/common/RotationalMotionColors"),y=t("ROTATIONAL_MOTION/common/RotationalMotionConstants"),_=t("ROTATIONAL_MOTION/intro/model/Spinner"),p=t("ROTATIONAL_MOTION/common/view/TimeControlBox"),f=t("SIM_CORE/util/Vector"),O=y.SCREEN_VIEW_X_MARGIN,m=y.SCREEN_VIEW_Y_MARGIN;return function(t){s(y,t);var u=i(y);function y(t,i,s){var g;v(this,y),e(t instanceof _,"invalid spinner: ".concat(t)),e(i instanceof h,"invalid velocityVisibleProperty"),e(s instanceof h,"invalid accelerationVisibleProperty");var S,R,M=n.rect(O,m,230*t.playBounds.width,230*t.playBounds.height),I=new l(t.playBounds,M),b=I.modelToViewPoint(f.ZERO),C=c.withPoints(b,b,Object.assign({},d.SPINNER_STRING_COLORS)),E=new r(2,Object.assign({center:b},d.SPINNER_PIN_COLORS)),k=new a(t.ball,I,i,s,Object.assign({},d.SPINNER_BALL_COLORS)),T=new p(t.isPlayingProperty,{stepBackwardOptions:{listener:function(){t.stepBackwards()}},stepForwardOptions:{listener:function(){t.stepForwards()}},topCenter:M.topCenter.addXY(0,15)});return g=u.call(this,{children:[T,C,E,k]}),t.ball.centerPositionProperty.link((function(t){C.end=I.modelToViewPoint(t)})),new o(k,{start:function(){R=t.ball.center.copy(),S=t.isPlayingProperty.value,t.isPlayingProperty.value=!1},end:function(){S&&t.isPlayingProperty.set(!0),S=null},drag:function(e){t.dragBallTo(I.viewToModelDelta(e).add(R))}}),g}return g(y,[{key:"_recomputeAncestorBounds",value:function(){this.layout(this.screenViewScale)}}]),y}(u)})),r("ROTATIONAL_MOTION/intro/view/IntroScreenView",["require","SIM_CORE/util/assert","SIM_CORE/util/Bounds","ROTATIONAL_MOTION/intro/model/CircularMotionTypes","ROTATIONAL_MOTION/intro/view/CircularMotionTypesRadioButtonGroup","ROTATIONAL_MOTION/intro/view/IntroControlPanel","ROTATIONAL_MOTION/intro/model/IntroModel","SIM_CORE/util/ModelViewTransform","SIM_CORE/scenery/Node","SIM_CORE/util/Property","SIM_CORE/scenery/buttons/ResetButton","ROTATIONAL_MOTION/common/RotationalMotionConstants","SIM_CORE/scenery/ScreenView","ROTATIONAL_MOTION/intro/view/SpinnerNode"],(function(t){"use strict";var e=t("SIM_CORE/util/assert"),n=(t("SIM_CORE/util/Bounds"),t("ROTATIONAL_MOTION/intro/model/CircularMotionTypes")),r=t("ROTATIONAL_MOTION/intro/view/CircularMotionTypesRadioButtonGroup"),o=t("ROTATIONAL_MOTION/intro/view/IntroControlPanel"),a=t("ROTATIONAL_MOTION/intro/model/IntroModel"),c=(t("SIM_CORE/util/ModelViewTransform"),t("SIM_CORE/scenery/Node")),l=t("SIM_CORE/util/Property"),u=t("SIM_CORE/scenery/buttons/ResetButton"),h=t("ROTATIONAL_MOTION/common/RotationalMotionConstants"),d=t("SIM_CORE/scenery/ScreenView"),y=t("ROTATIONAL_MOTION/intro/view/SpinnerNode"),_=h.SCREEN_VIEW_X_MARGIN,p=h.SCREEN_VIEW_Y_MARGIN,f=n.UNIFORM;return function(t){s(d,t);var h=i(d);function d(t){var i;v(this,d),e(t instanceof a,"invalid introModel: ".concat(t)),(i=h.call(this)).linearVelocityVisibleProperty=new l(!1,{type:"boolean"}),i.linearAccelerationVisibleProperty=new l(!1,{type:"boolean"}),i.circularMotionTypeProperty=new l(f,{validValues:n.MEMBERS});var s=new c;i.addChild(s);var O=[];[t.uniformSpinner,t.nonUniformSpinner].forEach((function(t){var e,n=new y(t,i.linearVelocityVisibleProperty,i.linearAccelerationVisibleProperty),r=new o(t,i.linearVelocityVisibleProperty,i.linearAccelerationVisibleProperty,{right:i.layoutBounds.maxX-_,top:p}),a=(new c).setChildren([n,r]);i.circularMotionTypeProperty.link((function(){e||(e=t.isPlayingProperty.value),t.isPlayingProperty.value=!1,i.circularMotionTypeProperty.value===t.type&&(s.children=[a],e&&(t.isPlayingProperty.value=!0),e=null)})),O.push(a)}));var m=new u({listener:function(){s.children=O,t.reset(),i.reset()},right:i.layoutBounds.maxX-_,bottom:i.layoutBounds.maxY-p});i.addChild(m);var g=new r(i.circularMotionTypeProperty,{top:2*p,right:i.layoutBounds.maxX-300});return i.addChild(g),i}return g(d,[{key:"reset",value:function(){this.circularMotionTypeProperty.reset(),this.linearVelocityVisibleProperty.reset(),this.linearAccelerationVisibleProperty.reset()}}]),d}(d)})),r("ROTATIONAL_MOTION/intro/IntroScreen",["require","ROTATIONAL_MOTION/intro/model/IntroModel","ROTATIONAL_MOTION/intro/view/IntroScreenView","SIM_CORE/Screen"],(function(t){"use strict";var e=t("ROTATIONAL_MOTION/intro/model/IntroModel"),n=t("ROTATIONAL_MOTION/intro/view/IntroScreenView");return function(t){s(o,t);var r=i(o);function o(){return v(this,o),r.call(this,{name:"Intro",background:"rgb( 255, 250, 227 )",model:e,view:n})}return o}(t("SIM_CORE/Screen"))})),r("rotational-motion-main",["require","ROTATIONAL_MOTION/intro/IntroScreen","SIM_CORE/Sim"],(function(t){"use strict";var e=t("ROTATIONAL_MOTION/intro/IntroScreen");t("SIM_CORE/Sim").start({name:"Rotational Motion",screens:[new e]})})),n(["rotational-motion-main"])}();